<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8"> <![endif]-->
<!--[if IE 9]> <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
<html>
<!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>OpenShift Enterprise Branch Build | Installation and Configuration | Syncing Groups With LDAP</title>
  <link href="https://assets.openshift.net/content/subdomain.css" rel="stylesheet" type="text/css">
  <link href="../../scollier-test/_stylesheets/docs.css" rel="stylesheet" />
  <link href="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" rel="apple-touch-icon-precomposed" type="image/png">
  <link href="https://assets.openshift.net/content/subdomain/favicon32x32.png" rel="shortcut icon" type="text/css">
  <!--[if IE]><link rel="shortcut icon" href="https://assets.openshift.net/content/subdomain/favicon.ico"><![endif]-->
  <!-- or, set /favicon.ico for IE10 win -->
  <meta content="OpenShift" name="application-name">
  <meta content="#000000" name="msapplication-TileColor">
  <meta content="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" name="msapplication-TileImage">
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://assets.openshift.net/content/html5shiv.js" type="text/javascript"></script>
    <script src="https://assets.openshift.net/content/respond.js" type="text/javascript"></script>
    <link href="https://assets.openshift.net/content/vendor/respond-js/respond-proxy.html" id="respond-proxy" rel="respond-proxy">
    <link href="../../scollier-test/_images/respond.proxy.gif" id="respond-redirect" rel="respond-redirect">
    <script src="../../scollier-test/_javascripts/respond.proxy.js" type="text/javascript"></script>
  <![endif]-->
  <script src="https://assets.openshift.net/content/modernizr.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/subdomain.js" type="text/javascript"></script>
  <script src="../../scollier-test/_javascripts/bootstrap-offcanvas.js" type="text/javascript"></script>
  <script type="text/javascript" src="https://assets.openshift.net/app/assets/site/tracking.js"></script>
</head>
<body>
  <div class="navbar navbar-default navbar-openshift" role="navigation">
  <div class="navbar-header">
    <div class="dropdown">
      <a href="#" class="dropdown-toggle navbar-menu-toggle" data-toggle="dropdown">
        <span class="navbar-menu-title">MENU</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>
      <ul class="dropdown-menu navbar-menu" role="menu">
        <li class="submenu">
          <a href="#">Overview</a>
          <ul id="submenu-overview" class="dropdown-submenu">
            <li class="submenu-heading">Introduction to OpenShift</li>
            <li>
              <a href="https://www.openshift.com/about/index.html">
                What is OpenShift?
                <span class="submenu-item-desc">Learn about Red Hat's next-generation cloud application platform.</span>
              </a>
            </li>
            <li>
              <a href="https://enterprise.openshift.com/customers">
                Our Customers
                <span class="submenu-item-desc">Discover what companies are using OpenShift to deliver a flexible, scalable cloud applicaiton environtment.</span>
              </a>
            </li>
            <li class="submenu-heading">News</li>
            <li>
              <a href="https://www.openshift.com/about/awards.html">
                Awards
                <span class="submenu-item-desc">Industry recognition and awards.</span>
              </a>
            </li>
            <li>
              <a href="https://blog.openshift.com/">
                OpenShift Blog
                <span class="submenu-item-desc">Keep your finger on the pulse of all things OpenShift.</span>
              </a>
            </li>
            <li>
              <a href="https://blog.openshift.com/category/events/">
                Events
                <span class="submenu-item-desc">OpenShift sponsors and attends a variety of in-person events around the globe.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/about/press.html">
                In the Press
                <span class="submenu-item-desc">The latest OpenShift news and press releases.</span>
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="http://jobs.redhat.com/job-search-results/?keywords=openshift">
                Careers <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/about/logos.html">
                Logos &amp; Media
              </a>
            </li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#">Features</a>
          <ul id="submenu-features" class="dropdown-submenu">
            <li class="submenu-heading">OpenShift Online</li>
            <li>
              <a href="https://www.openshift.com/features/index.html">
                Overview
                <span class="submenu-item-desc">Quickly develop, host, and scale applications in the public cloud with on-demand access.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/pricing/index.html">
                Plans &amp; Pricing
                <span class="submenu-item-desc">Host up to 3 apps for free. Upgrade and add production gears, extra storage, and more.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/app/account/new">
                Sign up for Free
              </a>
            </li>
            <li class="submenu-heading">OpenShift Dedicated</li>
            <li>
              <a href="https://www.openshift.com/dedicated/index.html">
                Overview
                <span class="submenu-item-desc">Your own private OpenShift cluster, operated by Red Hat.</span>
              </a>
            </li>
            <li class="submenu-heading">OpenShift Enterprise</li>
            <li>
              <a href="https://enterprise.openshift.com/">
                Overview
                <span class="submenu-item-desc">Accelerate application delivery with the speed and consistency that business demands.</span>
              </a>
            </li>
            <li>
              <a href="https://enterprise.openshift.com/resources/index.html">
                Resources
                <span class="submenu-item-desc">Webinars, datasheets, reference architectures, demo videos and more.</span>
              </a>
            </li>
            <li>
              <a href="https://enterprise.openshift.com/trial.html">
                Try it for Free
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="https://www.openshift.com/showcase/index.html">
                Application Gallery
              </a>
            </li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#">Developers</a>
          <ul id="submenu-developers" class="dropdown-submenu">
            <li>
              <a href="https://developers.openshift.com/en/getting-started-overview.html">
                Getting Started
                <span class="submenu-item-desc">New to OpenShift? Get your first application up and running and learn the basics.</span>
              </a>
            </li>
            <li>
              <a href="https://hub.openshift.com/">
                Hub
                <span class="submenu-item-desc">Find languages, frameworks, databases, and add-on services for OpenShift.</span>
              </a>
            </li>
            <li>
              <a href="https://developers.openshift.com/">
                Developer Portal
                <span class="submenu-item-desc">Learn about building, deploying, and managing your applications.</span>
              </a>
            </li>
            <li>
              <a href="https://docs.openshift.com/">
                Documentation
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="http://stackoverflow.com/questions/tagged/openshift">
                Stack Overflow
                <span class="submenu-item-desc">A Q&amp;A site for everything development related. Post a question or browse answers on the 'openshift' tag.</span>
              </a>
            </li>
            <li>
              <a href="https://enterprise.openshift.com/resources/index.html#training">
                Training &amp; Certification
                <span class="submenu-item-desc">Red Hat Training's hands-on, task-focused courses and certifications for IT professionals and developers.</span>
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="https://www.openshift.com/showcase/index.html">
                Application Gallery
                <span class="submenu-item-desc">Our showcase of applications running on OpenShift Online.</span>
              </a>
            </li>
            <li>
              <a href="http://www.openshift.org/#contribute">
                Contribute to OpenShift <i class="fa fa-external-link pull-right"></i>
                <span class="submenu-item-desc">Get in touch with our product team, or become a part of the OpenShift Origin open source project.</span>
              </a>
            </li>
            <li>
              <a href="https://openshift.uservoice.com/">
                Vote on Features
              </a>
            </li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#">Partners</a>
          <ul id="submenu-partners" class="dropdown-submenu">
            <li>
              <a href="https://www.openshift.com/partners/index.html">
                Become a Partner
                <span class="submenu-item-desc">Build on the strength of the world's leading open source company.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/partners/index.html">
                Find OpenShift Partners
                <span class="submenu-item-desc">Find qualified partners to help you with your OpenShift projects.</span>
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="http://commons.openshift.org/">
                OpenShift Commons <i class="fa fa-external-link pull-right"></i>
                <span class="submenu-item-desc">Where users, partners, customers, and contributors come together to collaborate on OpenShift.</span>
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="https://www.openshift.com/grants/index.html">
                Resource Grants
                <span class="submenu-item-desc">For non-profits, educational institutions, and open source initiatives.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/startups/index.html">
                Startup Program
                <span class="submenu-item-desc">Designed to help startups build and scale.</span>
              </a>
            </li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#">Support</a>
          <ul id="submenu-support" class="dropdown-submenu">
            <li>
              <a href="https://access.redhat.com/">
                Red Hat Customer Portal <i class="fa fa-external-link pull-right"></i>
                <span class="submenu-item-desc">Manage support cases, browse Knowledgebase articles, and more.</span>
              </a>
            </li>
            <li>
              <a href="https://docs.openshift.com/">
                Documentation
                <span class="submenu-item-desc">Official product documentation from Red Hat.</span>
              </a>
            </li>
            <li>
              <a href="https://help.openshift.com/">
                Help Center
                <span class="submenu-item-desc">The fastest way to find your available support options.</span>
              </a>
            </li>
            <li>
              <a href="http://stackoverflow.com/questions/tagged/openshift">
                Stack Overflow <i class="fa fa-external-link pull-right"></i>
                <span class="submenu-item-desc">A Q&amp;A site for everything development related. Post a question or browse answers on the 'openshift' tag.</span>
              </a>
            </li>
            <li>
              <a href="https://openshift.redhat.com/app/status">
                System Status <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/about/contact.html">
                Contact Us
              </a>
            </li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#">Connect</a>
          <ul id="submenu-connect" class="dropdown-submenu">
            <li>
              <a href="https://blog.openshift.com/">
                Blog
              </a>
            </li>
            <li>
              <a href="https://blog.openshift.com/category/events/">
                Events &amp; Conferences
              </a>
            </li>
            <li>
              <a href="http://commons.openshift.org/">
                OpenShift Commons <i class="fa fa-external-link pull-right"></i>
                <span class="submenu-item-desc">Where users, partners, customers, and contributors come together to collaborate on OpenShift.</span>
              </a>
            </li>
            <li>
              <a href="https://twitter.com/openshift">
                Twitter <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://www.facebook.com/openshift">
                Facebook <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://www.linkedin.com/grp/home?gid=4185734">
                LinkedIn <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://github.com/openshift/">
                GitHub <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://plus.google.com/+OpenShift">
                Google+ <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://www.youtube.com/user/rhopenshift">
                YouTube <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
          </ul>
        </li>
        <li>
          <a href="https://www.openshift.com/about/contact.html">
            Contact Us
          </a>
        </li>
        <li>
          <form action="https://help.openshift.com/hc/en-us/search" method="get" id="cse-search-form">
            <input name="query" id="cse-search-input" class="navbar-search-query form-control" type="text" placeholder="Search" tabindex="1" autocomplete="off" autofocus>
            <button type="submit" class="btn btn-default fa fa-search" value="Search"></button>
          </form>
        </li>
      </ul>
    </div>
    <a class="navbar-brand" href="/"></a>
  </div>
  <div class="navbar-collapse collapse">
    <ul class="nav navbar-nav navbar-right">
      <li class="hidden-xs dropdown"> <a href="#" class="dropdown-toggle nav-log-in" data-toggle="dropdown"> My Account<span class="caret"></span> </a>
        <ul class="dropdown-menu">
          <li><a href="https://openshift.redhat.com/app/console">OpenShift Web Console</a></li>
          <li><a href="https://console.preview.openshift.com/">(Next Gen) Web Console</a></li>
          <li><a href="https://hub.openshift.com/users/auth/github">OpenShift Hub</a></li>
        </ul>
      </li>
      <li class="hidden-xs hidden-sm"><a class="nav-sign-up" href="https://www.openshift.com/app/account/new">Sign up for Free</a></li>
    </ul>
  </div>
</div>
  <div class="container">
    <p class="toggle-nav visible-xs pull-left">
      <button class="btn btn-default btn-sm" type="button" data-toggle="offcanvas">Toggle nav</button>
    </p>
    <ol class="breadcrumb">
      <li class="sitename">
        <a href="../../index.html">Documentation</a>
      </li>
      <li class="hidden-xs active">
        <a href="../welcome/index.html">OpenShift Enterprise Branch Build</a>
      </li>
      <li class="hidden-xs active">
        <a href="../install_config/index.html">Installation and Configuration</a>
      </li>
      
      <li class="hidden-xs active">
        Syncing Groups With LDAP
      </li>
    </ol>
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-8 col-sm-3 col-md-3 sidebar sidebar-offcanvas">
        <div class="row-fluid">
          <script>
  (function() {
    var cx = '013769182564158614814:e-dp46b51vk';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search defaultToRefinement="Enterprise Branch Build"></gcse:search>
        </div>
        <ul class="nav nav-sidebar">
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup0">
        <span id="tgSpan0" class="fa fa-angle-right"></span>About
      </a>
      <ul id="topicGroup0" class="collapse  list-unstyled">
            <li><a class="" href="../welcome/index.html">Welcome</a></li>
            <li><a class="" href="../welcome/revhistory_all.html">All Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup1">
        <span id="tgSpan1" class="fa fa-angle-right"></span>Release Notes
      </a>
      <ul id="topicGroup1" class="collapse  list-unstyled">
            <li><a class="" href="../release_notes/index.html">Overview</a></li>
            <li><a class="" href="../release_notes/ose_3_2_release_notes.html">OpenShift Enterprise 3.2 Release Notes</a></li>
            <li><a class="" href="../release_notes/xpaas_release_notes.html">xPaaS Release Notes</a></li>
            <li><a class="" href="../release_notes/v2_vs_v3.html">Comparing OpenShift Enterprise 2 and OpenShift Enterprise 3</a></li>
            <li><a class="" href="../release_notes/revhistory_release_notes.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup2">
        <span id="tgSpan2" class="fa fa-angle-right"></span>Getting Started
      </a>
      <ul id="topicGroup2" class="collapse  list-unstyled">
            <li><a class="" href="../getting_started/index.html">Overview</a></li>
            <li><a class="" href="../getting_started/developers_console.html">Web Console Walkthrough</a></li>
            <li><a class="" href="../getting_started/administrators.html">Setting Up a Cluster</a></li>
            <li><a class="" href="../getting_started/revhistory_getting_started.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup3">
        <span id="tgSpan3" class="fa fa-angle-right"></span>Architecture
      </a>
      <ul id="topicGroup3" class="collapse  list-unstyled">
            <li><a class="" href="../architecture/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-1">
                <span id="sgSpan-3-1" class="fa fa-caret-right"></span>&nbsp;Infrastructure Components
              </a>
              <ul id="topicSubGroup-3-1" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../architecture/infrastructure_components/kubernetes_infrastructure.html">Kubernetes Infrastructure</a></li>
                  <li><a class="" href="../architecture/infrastructure_components/image_registry.html">Image Registry</a></li>
                  <li><a class="" href="../architecture/infrastructure_components/web_console.html">Web Console</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-2">
                <span id="sgSpan-3-2" class="fa fa-caret-right"></span>&nbsp;Core Concepts
              </a>
              <ul id="topicSubGroup-3-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../architecture/core_concepts/index.html">Overview</a></li>
                  <li><a class="" href="../architecture/core_concepts/containers_and_images.html">Containers and Images</a></li>
                  <li><a class="" href="../architecture/core_concepts/pods_and_services.html">Pods and Services</a></li>
                  <li><a class="" href="../architecture/core_concepts/projects_and_users.html">Projects and Users</a></li>
                  <li><a class="" href="../architecture/core_concepts/builds_and_image_streams.html">Builds and Image Streams</a></li>
                  <li><a class="" href="../architecture/core_concepts/deployments.html">Deployments</a></li>
                  <li><a class="" href="../architecture/core_concepts/routes.html">Routes</a></li>
                  <li><a class="" href="../architecture/core_concepts/templates.html">Templates</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-3">
                <span id="sgSpan-3-3" class="fa fa-caret-right"></span>&nbsp;Additional Concepts
              </a>
              <ul id="topicSubGroup-3-3" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../architecture/additional_concepts/networking.html">Networking</a></li>
                  <li><a class="" href="../architecture/additional_concepts/sdn.html">OpenShift SDN</a></li>
                  <li><a class="" href="../architecture/additional_concepts/authentication.html">Authentication</a></li>
                  <li><a class="" href="../architecture/additional_concepts/authorization.html">Authorization</a></li>
                  <li><a class="" href="../architecture/additional_concepts/storage.html">Persistent Storage</a></li>
                  <li><a class="" href="../architecture/additional_concepts/remote_commands.html">Remote Commands</a></li>
                  <li><a class="" href="../architecture/additional_concepts/port_forwarding.html">Port Forwarding</a></li>
                  <li><a class="" href="../architecture/additional_concepts/throttling.html">Throttling</a></li>
                  <li><a class="" href="../architecture/additional_concepts/scm.html">Source Control Management</a></li>
                  <li><a class="" href="../architecture/additional_concepts/admission_controllers.html">Admission Controllers</a></li>
                  <li><a class="" href="../architecture/additional_concepts/other_api_objects.html">Other API Objects</a></li>
              </ul>
            </li>
            <li><a class="" href="../architecture/revhistory_architecture.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup4">
        <span id="tgSpan4" class="fa fa-angle-down"></span>Installation and Configuration
      </a>
      <ul id="topicGroup4" class="collapse in list-unstyled">
            <li><a class="" href="../install_config/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-1">
                <span id="sgSpan-4-1" class="fa fa-caret-right"></span>&nbsp;Installing
              </a>
              <ul id="topicSubGroup-4-1" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/install/index.html">Overview</a></li>
                  <li><a class="" href="../install_config/install/prerequisites.html">Prerequisites</a></li>
                  <li><a class="" href="../install_config/install/rpm_vs_containerized.html">RPM vs Containerized</a></li>
                  <li><a class="" href="../install_config/install/quick_install.html">Quick Installation</a></li>
                  <li><a class="" href="../install_config/install/advanced_install.html">Advanced Installation</a></li>
                  <li><a class="" href="../install_config/install/disconnected_install.html">Disconnected Installation</a></li>
                  <li><a class="" href="../install_config/install/docker_registry.html">Deploying a Docker Registry</a></li>
                  <li><a class="" href="../install_config/install/deploy_router.html">Deploying a Router</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-2">
                <span id="sgSpan-4-2" class="fa fa-caret-right"></span>&nbsp;Upgrading
              </a>
              <ul id="topicSubGroup-4-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/upgrading/index.html">Overview</a></li>
                  <li><a class="" href="../install_config/upgrading/automated_upgrades.html">Automated Upgrades</a></li>
                  <li><a class="" href="../install_config/upgrading/manual_upgrades.html">Manual Upgrades</a></li>
              </ul>
            </li>
            <li><a class="" href="../install_config/downgrade.html">Downgrading</a></li>
            <li><a class="" href="../install_config/master_node_configuration.html">Master and Node Configuration</a></li>
            <li><a class="" href="../install_config/imagestreams_templates.html">Loading the Default Image Streams and Templates</a></li>
            <li><a class="" href="../install_config/certificate_customization.html">Configuring Custom Certificates</a></li>
            <li><a class="" href="../install_config/configuring_authentication.html">Configuring Authentication and User Agent</a></li>
            <li><a class=" active" href="../install_config/syncing_groups_with_ldap.html">Syncing Groups With LDAP</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-9">
                <span id="sgSpan-4-9" class="fa fa-caret-right"></span>&nbsp;Advanced LDAP Configuration
              </a>
              <ul id="topicSubGroup-4-9" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/advanced_ldap_configuration/index.html">Overview</a></li>
                  <li><a class="" href="../install_config/advanced_ldap_configuration/sssd_for_ldap_failover.html">Setting up SSSD for LDAP Failover</a></li>
                  <li><a class="" href="../install_config/advanced_ldap_configuration/configuring_form_based_authentication.html">Configuring Form-Based Authentication</a></li>
                  <li><a class="" href="../install_config/advanced_ldap_configuration/configuring_extended_ldap_attributes.html">Configuring Extended LDAP Attributes</a></li>
              </ul>
            </li>
            <li><a class="" href="../install_config/configuring_sdn.html">Configuring the SDN</a></li>
            <li><a class="" href="../install_config/configuring_aws.html">Configuring for AWS</a></li>
            <li><a class="" href="../install_config/configuring_openstack.html">Configuring for OpenStack</a></li>
            <li><a class="" href="../install_config/configuring_gce.html">Configuring for GCE</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-14">
                <span id="sgSpan-4-14" class="fa fa-caret-right"></span>&nbsp;Configuring Persistent Storage
              </a>
              <ul id="topicSubGroup-4-14" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/persistent_storage/index.html">Overview</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_nfs.html">Using NFS</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_glusterfs.html">Using GlusterFS</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_cinder.html">Using OpenStack Cinder</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_ceph_rbd.html">Using Ceph RBD</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_aws.html">Using AWS Elastic Block Store</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_gce.html">Using GCE Persistent Disk</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_iscsi.html">Using iSCSI</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_fibre_channel.html">Using Fibre Channel</a></li>
                  <li><a class="" href="../install_config/persistent_storage/dynamically_provisioning_pvs.html">Dynamic Provisioning</a></li>
                  <li><a class="" href="../install_config/persistent_storage/pod_security_context.html">Volume Security</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-15">
                <span id="sgSpan-4-15" class="fa fa-caret-right"></span>&nbsp;Persistent Storage Examples
              </a>
              <ul id="topicSubGroup-4-15" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/storage_examples/index.html">Overview</a></li>
                  <li><a class="" href="../install_config/storage_examples/shared_storage.html">Sharing an NFS PV Across Two Pods</a></li>
                  <li><a class="" href="../install_config/storage_examples/ceph_example.html">Complete Example Using Ceph RBD</a></li>
                  <li><a class="" href="../install_config/storage_examples/gluster_example.html">Complete Example Using GlusterFS</a></li>
                  <li><a class="" href="../install_config/storage_examples/privileged_pod_storage.html">Mounting Volumes To Privileged Pods</a></li>
                  <li><a class="" href="../install_config/storage_examples/gluster_backed_registry.html">Backing Docker Registry with GlusterFS Storage</a></li>
              </ul>
            </li>
            <li><a class="" href="../install_config/http_proxies.html">Working with HTTP Proxies</a></li>
            <li><a class="" href="../install_config/build_defaults_overrides.html">Configuring Global Build Defaults and Overrides</a></li>
            <li><a class="" href="../install_config/configuring_pipeline_execution.html">Configuring Build Pipeline Execution</a></li>
            <li><a class="" href="../install_config/native_container_routing.html">Native Container Routing</a></li>
            <li><a class="" href="../install_config/routing_from_edge_lb.html">Routing from Edge Load Balancers</a></li>
            <li><a class="" href="../install_config/aggregate_logging.html">Aggregating Container Logs</a></li>
            <li><a class="" href="../install_config/cluster_metrics.html">Enabling Cluster Metrics</a></li>
            <li><a class="" href="../install_config/web_console_customization.html">Customizing the Web Console</a></li>
            <li><a class="" href="../install_config/revhistory_install_config.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup5">
        <span id="tgSpan5" class="fa fa-angle-right"></span>Administrator Solutions
      </a>
      <ul id="topicGroup5" class="collapse  list-unstyled">
            <li><a class="" href="../admin_solutions/index.html">Overview</a></li>
            <li><a class="" href="../admin_solutions/master_node_config.html">Master and Node Configuration</a></li>
            <li><a class="" href="../admin_solutions/user_role_mgmt.html">User and Role Management</a></li>
            <li><a class="" href="../admin_solutions/authentication.html">Authentication</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup6">
        <span id="tgSpan6" class="fa fa-angle-right"></span>Cluster Administration
      </a>
      <ul id="topicGroup6" class="collapse  list-unstyled">
            <li><a class="" href="../admin_guide/index.html">Overview</a></li>
            <li><a class="" href="../admin_guide/manage_nodes.html">Managing Nodes</a></li>
            <li><a class="" href="../admin_guide/manage_users.html">Managing Users</a></li>
            <li><a class="" href="../admin_guide/managing_projects.html">Managing Projects</a></li>
            <li><a class="" href="../admin_guide/service_accounts.html">Configuring Service Accounts</a></li>
            <li><a class="" href="../admin_guide/manage_authorization_policy.html">Managing Authorization Policies</a></li>
            <li><a class="" href="../admin_guide/manage_scc.html">Managing Security Context Constraints</a></li>
            <li><a class="" href="../admin_guide/quota.html">Setting Quotas</a></li>
            <li><a class="" href="../admin_guide/limits.html">Setting Limit Ranges</a></li>
            <li><a class="" href="../admin_guide/pruning_resources.html">Pruning Objects</a></li>
            <li><a class="" href="../admin_guide/garbage_collection.html">Garbage Collection</a></li>
            <li><a class="" href="../admin_guide/scheduler.html">Scheduler</a></li>
            <li><a class="" href="../admin_guide/allocating_node_resources.html">Allocating Node Resources</a></li>
            <li><a class="" href="../admin_guide/overcommit.html">Overcommitting</a></li>
            <li><a class="" href="../admin_guide/limit_runonce_pod_duration.html">Limit Run-once Pod Duration</a></li>
            <li><a class="" href="../admin_guide/router.html">Monitoring Routers</a></li>
            <li><a class="" href="../admin_guide/high_availability.html">High Availability</a></li>
            <li><a class="" href="../admin_guide/pod_network.html">Managing Pod Networks</a></li>
            <li><a class="" href="../admin_guide/iptables.html">IPtables</a></li>
            <li><a class="" href="../admin_guide/securing_builds.html">Securing Builds by Strategy</a></li>
            <li><a class="" href="../admin_guide/building_dependency_trees.html">Building Dependency Trees</a></li>
            <li><a class="" href="../admin_guide/sdn_troubleshooting.html">Troubleshooting Networking</a></li>
            <li><a class="" href="../admin_guide/revhistory_admin_guide.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup7">
        <span id="tgSpan7" class="fa fa-angle-right"></span>CLI Reference
      </a>
      <ul id="topicGroup7" class="collapse  list-unstyled">
            <li><a class="" href="../cli_reference/index.html">Overview</a></li>
            <li><a class="" href="../cli_reference/get_started_cli.html">Get Started with the CLI</a></li>
            <li><a class="" href="../cli_reference/manage_cli_profiles.html">Managing CLI Profiles</a></li>
            <li><a class="" href="../cli_reference/basic_cli_operations.html">Developer CLI Operations</a></li>
            <li><a class="" href="../cli_reference/admin_cli_operations.html">Administrator CLI Operations</a></li>
            <li><a class="" href="../cli_reference/revhistory_cli_reference.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup8">
        <span id="tgSpan8" class="fa fa-angle-right"></span>Developer Guide
      </a>
      <ul id="topicGroup8" class="collapse  list-unstyled">
            <li><a class="" href="../dev_guide/index.html">Overview</a></li>
            <li><a class="" href="../dev_guide/application_lifecycle.html">Application Life Cycle Examples</a></li>
            <li><a class="" href="../dev_guide/authentication.html">Authentication</a></li>
            <li><a class="" href="../dev_guide/projects.html">Projects</a></li>
            <li><a class="" href="../dev_guide/new_app.html">Creating New Applications</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-8-5">
                <span id="sgSpan-8-5" class="fa fa-caret-right"></span>&nbsp;Application Tutorials
              </a>
              <ul id="topicSubGroup-8-5" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../dev_guide/app_tutorials/index.html">Overview</a></li>
                  <li><a class="" href="../dev_guide/app_tutorials/quickstarts.html">Quickstart Templates</a></li>
                  <li><a class="" href="../dev_guide/app_tutorials/ruby_on_rails.html">Ruby on Rails</a></li>
              </ul>
            </li>
            <li><a class="" href="../dev_guide/ssh_environment.html">Opening a Remote Shell to Containers</a></li>
            <li><a class="" href="../dev_guide/templates.html">Templates</a></li>
            <li><a class="" href="../dev_guide/service_accounts.html">Service Accounts</a></li>
            <li><a class="" href="../dev_guide/builds.html">Builds</a></li>
            <li><a class="" href="../dev_guide/managing_images.html">Managing Images</a></li>
            <li><a class="" href="../dev_guide/compute_resources.html">Quotas and Limit Ranges</a></li>
            <li><a class="" href="../dev_guide/deployments.html">Deployments</a></li>
            <li><a class="" href="../dev_guide/routes.html">Routes</a></li>
            <li><a class="" href="../dev_guide/integrating_external_services.html">Integrating External Services</a></li>
            <li><a class="" href="../dev_guide/secrets.html">Secrets</a></li>
            <li><a class="" href="../dev_guide/configmaps.html">ConfigMaps</a></li>
            <li><a class="" href="../dev_guide/pod_autoscaling.html">Pod Autoscaling</a></li>
            <li><a class="" href="../dev_guide/volumes.html">Managing Volumes</a></li>
            <li><a class="" href="../dev_guide/persistent_volumes.html">Using Persistent Volumes</a></li>
            <li><a class="" href="../dev_guide/executing_remote_commands.html">Executing Remote Commands</a></li>
            <li><a class="" href="../dev_guide/copy_files_to_container.html">Copying Files</a></li>
            <li><a class="" href="../dev_guide/port_forwarding.html">Port Forwarding</a></li>
            <li><a class="" href="../dev_guide/shared_memory.html">Shared Memory</a></li>
            <li><a class="" href="../dev_guide/application_health.html">Application Health</a></li>
            <li><a class="" href="../dev_guide/events.html">Events</a></li>
            <li><a class="" href="../dev_guide/downward_api.html">Downward API</a></li>
            <li><a class="" href="../dev_guide/environment_variables.html">Managing Environment Variables</a></li>
            <li><a class="" href="../dev_guide/jobs.html">Jobs</a></li>
            <li><a class="" href="../dev_guide/revhistory_dev_guide.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup9">
        <span id="tgSpan9" class="fa fa-angle-right"></span>Creating Images
      </a>
      <ul id="topicGroup9" class="collapse  list-unstyled">
            <li><a class="" href="../creating_images/index.html">Overview</a></li>
            <li><a class="" href="../creating_images/guidelines.html">Guidelines</a></li>
            <li><a class="" href="../creating_images/metadata.html">Image Metadata</a></li>
            <li><a class="" href="../creating_images/s2i.html">S2I Requirements</a></li>
            <li><a class="" href="../creating_images/s2i_testing.html">Testing S2I Images</a></li>
            <li><a class="" href="../creating_images/custom.html">Custom Builder</a></li>
            <li><a class="" href="../creating_images/revhistory_creating_images.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup10">
        <span id="tgSpan10" class="fa fa-angle-right"></span>Using Images
      </a>
      <ul id="topicGroup10" class="collapse  list-unstyled">
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-0">
                <span id="sgSpan-10-0" class="fa fa-caret-right"></span>&nbsp;Source-to-Image (S2I)
              </a>
              <ul id="topicSubGroup-10-0" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../using_images/s2i_images/index.html">Overview</a></li>
                  <li><a class="" href="../using_images/s2i_images/nodejs.html">Node.js</a></li>
                  <li><a class="" href="../using_images/s2i_images/ruby.html">Ruby</a></li>
                  <li><a class="" href="../using_images/s2i_images/perl.html">Perl</a></li>
                  <li><a class="" href="../using_images/s2i_images/php.html">PHP</a></li>
                  <li><a class="" href="../using_images/s2i_images/python.html">Python</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-1">
                <span id="sgSpan-10-1" class="fa fa-caret-right"></span>&nbsp;Database Images
              </a>
              <ul id="topicSubGroup-10-1" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../using_images/db_images/index.html">Overview</a></li>
                  <li><a class="" href="../using_images/db_images/mysql.html">MySQL</a></li>
                  <li><a class="" href="../using_images/db_images/postgresql.html">PostgreSQL</a></li>
                  <li><a class="" href="../using_images/db_images/mongodb.html">MongoDB</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-2">
                <span id="sgSpan-10-2" class="fa fa-caret-right"></span>&nbsp;Docker Images
              </a>
              <ul id="topicSubGroup-10-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../using_images/docker_images/index.html">Overview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-3">
                <span id="sgSpan-10-3" class="fa fa-caret-right"></span>&nbsp;Other Images
              </a>
              <ul id="topicSubGroup-10-3" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../using_images/other_images/index.html">Overview</a></li>
                  <li><a class="" href="../using_images/other_images/jenkins.html">Jenkins</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-4">
                <span id="sgSpan-10-4" class="fa fa-caret-right"></span>&nbsp;xPaaS Middleware Images
              </a>
              <ul id="topicSubGroup-10-4" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../using_images/xpaas_images/index.html">Overview</a></li>
              </ul>
            </li>
            <li><a class="" href="../using_images/revhistory_using_images.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup11">
        <span id="tgSpan11" class="fa fa-angle-right"></span>REST API Reference
      </a>
      <ul id="topicGroup11" class="collapse  list-unstyled">
            <li><a class="" href="../rest_api/index.html">Overview</a></li>
            <li><a class="" href="../rest_api/openshift_v1.html">OpenShift v1</a></li>
            <li><a class="" href="../rest_api/kubernetes_v1.html">Kubernetes v1</a></li>
            <li><a class="" href="../rest_api/revhistory_rest_api.html">Revision History</a></li>
      </ul>
    </li>
</ul>
      </div>
      <div class="col-xs-12 col-sm-9 col-md-9 main">
        <div class="page-header">
          <h2>Syncing Groups With LDAP</h2>
        </div>
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title"></div>
<ul class="sectlevel1">
<li><a href="#overview">Overview</a></li>
<li><a href="#configuring-ldap-sync">Configuring LDAP Sync</a>
<ul class="sectlevel2">
<li><a href="#ldap-client-configuration">LDAP Client Configuration</a></li>
<li><a href="#ldap-query-definition">LDAP Query Definition</a></li>
<li><a href="#user-defined-name-mapping">User-Defined Name Mapping</a></li>
</ul>
</li>
<li><a href="#running-ldap-sync">Running LDAP Sync</a></li>
<li><a href="#running-a-group-pruning-job">Running a Group Pruning Job</a></li>
<li><a href="#sync-examples">Sync Examples</a>
<ul class="sectlevel2">
<li><a href="#sync-ldap-rfc-2307">RFC 2307</a></li>
<li><a href="#rfc2307-with-error-tolerances">RFC 2307 with User-Defined Error Tolerances</a></li>
<li><a href="#sync-ldap-active-directory">Active Directory</a></li>
<li><a href="#sync-ldap-augmented-active-directory">Augmented Active Directory</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="anchor" href="#overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As an OpenShift Enterprise administrator, you can use groups to manage users, change
their permissions, and enhance collaboration. Your organization may have already
created user groups and stored them in an LDAP server. OpenShift Enterprise can sync
those LDAP records with internal OpenShift Enterprise records, enabling you to manage
your groups in one place. OpenShift Enterprise currently supports group sync with
LDAP servers using three common schemas for defining group membership: RFC 2307,
Active Directory, and augmented Active Directory.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You must have
<a href="../architecture/additional_concepts/authorization.html#roles"><strong>cluster-admin</strong>
privileges</a> to sync groups.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-ldap-sync"><a class="anchor" href="#configuring-ldap-sync"></a>Configuring LDAP Sync</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before you can <a href="#running-ldap-sync">run LDAP sync</a>, you need a sync
configuration file. This file contains LDAP client configuration details:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Configuration for connecting to your LDAP server.</p>
</li>
<li>
<p>Sync configuration options that are dependent on the schema used in your LDAP
server.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A sync configuration file can also contain an administrator-defined list of name
mappings that maps OpenShift Enterprise Group names to groups in your LDAP server.</p>
</div>
<div class="sect2">
<h3 id="ldap-client-configuration"><a class="anchor" href="#ldap-client-configuration"></a>LDAP Client Configuration</h3>
<div class="exampleblock">
<div class="title">Example 1. LDAP Client Configuration</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">url</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">ldap://10.0.0.0:389 </span></span><i class="conum" data-value="1"></i><b>(1)</b>
<span style="color:#606">bindDN</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">cn=admin,dc=example,dc=com </span></span><i class="conum" data-value="2"></i><b>(2)</b>
<span style="color:#606">bindPassword</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">password </span></span><i class="conum" data-value="3"></i><b>(3)</b>
<span style="color:#606">insecure</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">true </span></span><i class="conum" data-value="4"></i><b>(4)</b>
<span style="color:#606">ca</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">my-ldap-ca-bundle.crt </span></span> <i class="conum" data-value="5"></i><b>(5)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The connection protocol, IP address of the LDAP server hosting your
database, and the port to connect to, formatted as <code>scheme://host:port</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Optional distinguished name (DN) to use as the Bind DN.
OpenShift Enterprise uses this if elevated privilege is required to retrieve entries for
the sync operation.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Optional password to use to bind. OpenShift Enterprise uses this if elevated privilege is
necessary to retrieve entries for the sync operation. This value may also be
provided in an
<a href="../install_config/master_node_configuration.html#master-node-configuration-passwords-and-other-data">environment
variable, external file, or encrypted file</a>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>When <code>true</code>, no TLS connection is made to the server. When <code>false</code>, secure
LDAP (<code>ldaps://</code>) URLs connect using TLS, and insecure LDAP (<code>ldap://</code>) URLs are
upgraded to TLS.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The certificate bundle to use for validating server certificates for the
configured URL. If empty, OpenShift Enterprise uses system-trusted roots. This only applies
if <code>insecure</code> is set to <code>false</code>.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ldap-query-definition"><a class="anchor" href="#ldap-query-definition"></a>LDAP Query Definition</h3>
<div class="paragraph">
<p>Sync configurations consist of LDAP query definitions for the entries that are
required for synchronization. The specific definition of an LDAP query depends
on the schema used to store membership information in the LDAP server.</p>
</div>
<div class="exampleblock">
<div class="title">Example 2. LDAP Query Definition</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">baseDN</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">ou=users,dc=example,dc=com </span></span><i class="conum" data-value="1"></i><b>(1)</b>
<span style="color:#606">scope</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">sub </span></span><i class="conum" data-value="2"></i><b>(2)</b>
<span style="color:#606">derefAliases</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">never </span></span><i class="conum" data-value="3"></i><b>(3)</b>
<span style="color:#606">timeout</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">0 </span></span><i class="conum" data-value="4"></i><b>(4)</b>
<span style="color:#606">filter</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">(objectClass=inetOrgPerson) </span></span><i class="conum" data-value="5"></i><b>(5)</b>
<span style="color:#606">pageSize</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">0 </span></span> <i class="conum" data-value="6"></i><b>(6)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The distinguished name (DN) of the branch of the directory where all
searches will start from. It is required that you specify the top of your
directory tree, but you can also specify a subtree in the directory.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The scope of the search. Valid values are <code>base</code>, <code>one</code>, or <code>sub</code>. If this
is left undefined, then a scope of <code>sub</code> is assumed. Descriptions of the scope
options can be found in the <a href="#ldap-search">table below</a>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The behavior of the search with respect to aliases in the LDAP tree. Valid
values are <code>never</code>, <code>search</code>, <code>base</code>, or <code>always</code>. If this is left undefined,
then the default is to <code>always</code> dereference aliases. Descriptions of the
dereferencing behaviors can be found in the <a href="#deref-aliases">table below</a>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The time limit allowed for the search by the client, in seconds. A value of
0 imposes no client-side limit.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>A valid LDAP search filter. If this is left undefined, then the default is
<code>(objectClass=*)</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>The optional maximum size of response pages from the server, measured in LDAP
entries. If set to 0, no size restrictions will be made on pages of responses.
Setting paging sizes is necessary when queries return more entries than the
client or server allow by default.</td>
</tr>
</table>
</div>
</div>
</div>
<table id="ldap-search" class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. LDAP Search Scope Options</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">LDAP Search Scope</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div><div class="paragraph">
<p><code>base</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Only consider the object specified by the base DN given for the query.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div><div class="paragraph">
<p><code>one</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Consider all of the objects on the same level in the tree as the base DN for
the query.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div><div class="paragraph">
<p><code>sub</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Consider the entire subtree rooted at the base DN given for the query.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="deref-aliases" class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. LDAP Dereferencing Behaviors</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Dereferencing Behavior</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div><div class="paragraph">
<p><code>never</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Never dereference any aliases found in the LDAP tree.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div><div class="paragraph">
<p><code>search</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Only dereference aliases found while searching.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div><div class="paragraph">
<p><code>base</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Only dereference aliases while finding the base object.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div><div class="paragraph">
<p><code>always</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Always dereference all aliases found in the LDAP tree.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="user-defined-name-mapping"><a class="anchor" href="#user-defined-name-mapping"></a>User-Defined Name Mapping</h3>
<div class="paragraph">
<p>A user-defined name mapping explicitly maps the names of OpenShift Enterprise Groups to
unique identifiers that find groups on your LDAP server. The mapping uses normal
YAML syntax. A user-defined mapping can contain an entry for every group in your
LDAP server or only a subset of those groups. If there are groups on the LDAP
server that do not have a user-defined name mapping, the default behavior during
sync is to use the attribute specified as the Group&#8217;s name.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3. User-Defined Name Mapping</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">groupUIDNameMapping</span>:
  <span style="color:#606"><span style="color:#404">&quot;</span><span>cn=group1,ou=groups,dc=example,dc=com</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">firstgroup</span></span>
  <span style="color:#606"><span style="color:#404">&quot;</span><span>cn=group2,ou=groups,dc=example,dc=com</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">secondgroup</span></span>
  <span style="color:#606"><span style="color:#404">&quot;</span><span>cn=group3,ou=groups,dc=example,dc=com</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">thirdgroup</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="running-ldap-sync"><a class="anchor" href="#running-ldap-sync"></a>Running LDAP Sync</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once you have created a <a href="#configuring-ldap-sync">sync configuration file</a>,
then sync can begin. OpenShift Enterprise allows administrators to perform a number of
different sync types with the same server.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>By default, all group synchronization or pruning operations are dry-run, so you
must set the <code>--confirm</code> flag on the <code>oadm groups sync</code> command in order to make
changes to OpenShift Enterprise group records.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To sync all groups from the LDAP server with OpenShift Enterprise:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ oadm groups sync --sync-config=config.yaml --confirm</pre>
</div>
</div>
<div class="paragraph">
<p>To sync all Groups already in OpenShift Enterprise that correspond to groups in the
LDAP server specified in the configuration file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ oadm groups sync --type=openshift --sync-config=config.yaml --confirm</pre>
</div>
</div>
<div class="paragraph">
<p>To sync a subset of LDAP groups with OpenShift Enterprise, you can use whitelist files,
blacklist files, or both:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Any combination of blacklist files, whitelist files, or whitelist literals will
work; whitelist literals can be included directly in the command itself. This
applies to groups found on LDAP servers, as well as Groups already present in
OpenShift Enterprise. Your files must contain one unique group identifier per line.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre>$ oadm groups sync --whitelist=&lt;whitelist_file&gt; \
                   --sync-config=config.yaml    \
                   --confirm
$ oadm groups sync --blacklist=&lt;blacklist_file&gt; \
                   --sync-config=config.yaml    \
                   --confirm
$ oadm groups sync &lt;group_unique_identifier&gt;    \
                   --sync-config=config.yaml    \
                   --confirm
$ oadm groups sync &lt;group_unique_identifier&gt;    \
                   --whitelist=&lt;whitelist_file&gt; \
                   --blacklist=&lt;blacklist_file&gt; \
                   --sync-config=config.yaml    \
                   --confirm
$ oadm groups sync --type=openshift             \
                   --whitelist=&lt;whitelist_file&gt; \
                   --sync-config=config.yaml    \
                   --confirm</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="running-a-group-pruning-job"><a class="anchor" href="#running-a-group-pruning-job"></a>Running a Group Pruning Job</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An administrator can also choose to remove groups from OpenShift Enterprise records
if the records on the LDAP server that created them are no longer present. The
prune job will accept the same sync configuration file and white- or black-lists
as used for the sync job.</p>
</div>
<div class="paragraph">
<p>For example, if groups had previously been synchronized from LDAP using some
<strong><em>config.yaml</em></strong> file, and some of those groups no longer existed on the LDAP
server, the following command would determine which Groups in OpenShift Enterprise
corresponded to the deleted groups in LDAP and then remove them from
OpenShift Enterprise:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ oadm groups prune --sync-config=config.yaml --confirm</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sync-examples"><a class="anchor" href="#sync-examples"></a>Sync Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section contains examples for the <a href="#sync-ldap-rfc-2307">RFC 2307</a>,
<a href="#sync-ldap-active-directory">Active Directory</a>, and
<a href="#sync-ldap-augmented-active-directory">augmented Active Directory</a> schemas.
All of the following examples synchronize a group named <strong>admins</strong> that has two
members: <strong>Jane</strong> and <strong>Jim</strong>. Each example explains:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>How the group and users are added to the LDAP server.</p>
</li>
<li>
<p>What the LDAP sync configuration file looks like.</p>
</li>
<li>
<p>What the resulting Group record in OpenShift Enterprise will be after synchronization.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="sync-ldap-rfc-2307"><a class="anchor" href="#sync-ldap-rfc-2307"></a>RFC 2307</h3>
<div class="paragraph">
<p>In the RFC 2307 schema, both users (Jane and Jim) and groups exist on the LDAP
server as first-class entries, and group membership is stored in attributes on
the group. The following snippet of <code>ldif</code> defines the users and group for this
schema:</p>
</div>
<div class="exampleblock">
<div class="title">Example 4. LDAP Entries Using RFC 2307 Schema: <strong><em>rfc2307.ldif</em></strong></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ldif">  dn: ou=users,dc=example,dc=com
  objectClass: organizationalUnit
  ou: users

  dn: cn=Jane,ou=users,dc=example,dc=com
  objectClass: person
  objectClass: organizationalPerson
  objectClass: inetOrgPerson
  cn: Jane
  sn: Smith
  displayName: Jane Smith
  mail: jane.smith@example.com

  dn: cn=Jim,ou=users,dc=example,dc=com
  objectClass: person
  objectClass: organizationalPerson
  objectClass: inetOrgPerson
  cn: Jim
  sn: Adams
  displayName: Jim Adams
  mail: jim.adams@example.com

  dn: ou=groups,dc=example,dc=com
  objectClass: organizationalUnit
  ou: groups

  dn: cn=admins,ou=groups,dc=example,dc=com <i class="conum" data-value="1"></i><b>(1)</b>
  objectClass: groupOfNames
  cn: admins
  owner: cn=admin,dc=example,dc=com
  description: System Administrators
  member: cn=Jane,ou=users,dc=example,dc=com <i class="conum" data-value="2"></i><b>(2)</b>
  member: cn=Jim,ou=users,dc=example,dc=com</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The group is a first-class entry in the LDAP server.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Members of a group are listed with an identifying reference as attributes on
the group.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>To sync this group, you must first create the configuration file. The
RFC 2307 schema requires you to provide an LDAP query definition for both user
and group entries, as well as the attributes with which to represent them in the
internal OpenShift Enterprise records.</p>
</div>
<div class="paragraph">
<p>For clarity, the Group you create in OpenShift Enterprise should use attributes other
than the distinguished name whenever possible for user- or administrator-facing
fields. For example, identify the users of a Group by their e-mail, and use the
name of the group as the common name. The following configuration file creates
these relationships:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If using user-defined name mappings, your
<a href="#rfc2307-with-user-defined-name-mappings">configuration file</a> will differ.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="exampleblock">
<div class="title">Example 5. LDAP Sync Configuration Using RFC 2307 Schema: <strong><em>rfc2307_config.yaml</em></strong></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">kind</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">LDAPSyncConfig</span></span>
<span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">v1</span></span>
<span style="color:#606">url</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">ldap://LDAP_SERVICE_IP:389 </span></span><i class="conum" data-value="1"></i><b>(1)</b>
<span style="color:#606">insecure</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">true </span></span><i class="conum" data-value="2"></i><b>(2)</b>
<span style="color:#606">rfc2307</span>:
    <span style="color:#606">groupsQuery</span>:
        <span style="color:#606">baseDN</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ou=groups,dc=example,dc=com</span><span style="color:#710">&quot;</span></span>
        <span style="color:#606">scope</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">sub</span></span>
        <span style="color:#606">derefAliases</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">never</span></span>
        <span style="color:#606">filter</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">(objectclass=groupOfNames)</span></span>
        <span style="color:#606">pageSize</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">0</span></span>
    <span style="color:#606">groupUIDAttribute</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">dn </span></span><i class="conum" data-value="3"></i><b>(3)</b>
    <span style="color:#606">groupNameAttributes</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">[ cn ] </span></span><i class="conum" data-value="4"></i><b>(4)</b>
    <span style="color:#606">groupMembershipAttributes</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">[ member ] </span></span><i class="conum" data-value="5"></i><b>(5)</b>
    <span style="color:#606">usersQuery</span>:
        <span style="color:#606">baseDN</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ou=users,dc=example,dc=com</span><span style="color:#710">&quot;</span></span>
        <span style="color:#606">scope</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">sub</span></span>
        <span style="color:#606">derefAliases</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">never</span></span>
        <span style="color:#606">filter</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">(objectclass=inetOrgPerson)</span></span>
        <span style="color:#606">pageSize</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">0</span></span>
    <span style="color:#606">userUIDAttribute</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">dn </span></span><i class="conum" data-value="6"></i><b>(6)</b>
    <span style="color:#606">userNameAttributes</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">[ mail ] </span></span><i class="conum" data-value="7"></i><b>(7)</b>
    <span style="color:#606">tolerateMemberNotFoundErrors</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">false</span></span>
    <span style="color:#606">tolerateMemberOutOfScopeErrors</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">false</span></span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The IP address and host of the LDAP server where this group&#8217;s record is
stored.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>When <code>true</code>, no TLS connection is made to the server. When <code>false</code>, secure
LDAP (<code>ldaps://</code>) URLs connect using TLS, and insecure LDAP (<code>ldap://</code>) URLs are
upgraded to TLS.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The attribute that uniquely identifies a group on the LDAP server.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The attribute to use as the name of the Group.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The attribute on the group that stores the membership information.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>The attribute that uniquely identifies a user on the LDAP server.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>The attribute to use as the name of the user in the OpenShift Enterprise Group record.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>To run sync with the <strong><em>rfc2307_config.yaml</em></strong> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ oadm groups sync --sync-config=rfc2307_config.yaml --confirm</pre>
</div>
</div>
<div class="paragraph">
<p>OpenShift Enterprise creates the following Group record as a result of the above sync
operation:</p>
</div>
<div class="exampleblock">
<div class="title">Example 6. OpenShift Enterprise Group Created Using <strong><em>rfc2307_config.yaml</em></strong></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">v1</span></span>
<span style="color:#606">kind</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">Group</span></span>
<span style="color:#606">metadata</span>:
  <span style="color:#606">annotations</span>:
    <span style="color:#606">openshift.io/ldap.sync-time</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">2015-10-13T10:08:38-0400 </span></span><i class="conum" data-value="1"></i><b>(1)</b>
    <span style="color:#606">openshift.io/ldap.uid</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">cn=admins,ou=groups,dc=example,dc=com </span></span><i class="conum" data-value="2"></i><b>(2)</b>
    <span style="color:#606">openshift.io/ldap.url</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">LDAP_SERVER_IP:389 </span></span><i class="conum" data-value="3"></i><b>(3)</b>
  <span style="color:#606">creationTimestamp</span>:
  <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">admins </span></span><i class="conum" data-value="4"></i><b>(4)</b>
<span style="color:#606">users</span>: <i class="conum" data-value="5"></i><b>(5)</b>
- <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">jane.smith@example.com</span></span>
- <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">jim.adams@example.com</span></span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The last time this Group was synchronized with the LDAP server, in ISO 6801
format.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The unique identifier for the group on the LDAP server.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The IP address and host of the LDAP server where this Group&#8217;s record is
stored.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The name of the Group as specified by the sync file.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The users that are members of the Group, named as specified by the sync file.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="rfc2307-with-user-defined-name-mappings"><a class="anchor" href="#rfc2307-with-user-defined-name-mappings"></a>RFC2307 with User-Defined Name Mappings</h4>
<div class="paragraph">
<p>When syncing groups with user-defined name mappings, the configuration file
changes to contain these mappings as shown below.</p>
</div>
<div class="exampleblock">
<div class="title">Example 7. LDAP Sync Configuration Using RFC 2307 Schema With User-Defined Name Mappings: <strong><em>rfc2307_config_user_defined.yaml</em></strong></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">kind</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">LDAPSyncConfig</span></span>
<span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">v1</span></span>
<span style="color:#606">groupUIDNameMapping</span>:
  <span style="color:#606"><span style="color:#404">&quot;</span><span>cn=admins,ou=groups,dc=example,dc=com</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">Administrators </span></span><i class="conum" data-value="1"></i><b>(1)</b>
<span style="color:#606">rfc2307</span>:
    <span style="color:#606">groupsQuery</span>:
        <span style="color:#606">baseDN</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ou=groups,dc=example,dc=com</span><span style="color:#710">&quot;</span></span>
        <span style="color:#606">scope</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">sub</span></span>
        <span style="color:#606">derefAliases</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">never</span></span>
        <span style="color:#606">filter</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">(objectclass=groupOfNames)</span></span>
        <span style="color:#606">pageSize</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">0</span></span>
    <span style="color:#606">groupUIDAttribute</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">dn </span></span><i class="conum" data-value="2"></i><b>(2)</b>
    <span style="color:#606">groupNameAttributes</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">[ cn ] </span></span><i class="conum" data-value="3"></i><b>(3)</b>
    <span style="color:#606">groupMembershipAttributes</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">[ member ]</span></span>
    <span style="color:#606">usersQuery</span>:
        <span style="color:#606">baseDN</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ou=users,dc=example,dc=com</span><span style="color:#710">&quot;</span></span>
        <span style="color:#606">scope</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">sub</span></span>
        <span style="color:#606">derefAliases</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">never</span></span>
        <span style="color:#606">filter</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">(objectclass=inetOrgPerson)</span></span>
        <span style="color:#606">pageSize</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">0</span></span>
    <span style="color:#606">userUIDAttribute</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">dn</span></span>
    <span style="color:#606">userNameAttributes</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">[ mail ]</span></span>
    <span style="color:#606">tolerateMemberNotFoundErrors</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">false</span></span>
    <span style="color:#606">tolerateMemberOutOfScopeErrors</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">false</span></span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The user-defined name mapping.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The unique identifier attribute that is used for the keys in the
user-defined name mapping.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The attribute to name OpenShift Enterprise Groups with if their unique identifier is
not in the user-defined name mapping.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>To run sync with the <strong><em>rfc2307_config_user_defined.yaml</em></strong> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ oadm groups sync --sync-config=rfc2307_config_user_defined.yaml --confirm</pre>
</div>
</div>
<div class="paragraph">
<p>OpenShift Enterprise creates the following Group record as a result of the above sync
operation:</p>
</div>
<div class="exampleblock">
<div class="title">Example 8. OpenShift Enterprise Group Created Using <strong><em>rfc2307_config_user_defined.yaml</em></strong></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">v1</span></span>
<span style="color:#606">kind</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">Group</span></span>
<span style="color:#606">metadata</span>:
  <span style="color:#606">annotations</span>:
    <span style="color:#606">openshift.io/ldap.sync-time</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">2015-10-13T10:08:38-0400</span></span>
    <span style="color:#606">openshift.io/ldap.uid</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">cn=admins,ou=groups,dc=example,dc=com</span></span>
    <span style="color:#606">openshift.io/ldap.url</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">LDAP_SERVER_IP:389</span></span>
  <span style="color:#606">creationTimestamp</span>:
  <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">Administrators </span></span><i class="conum" data-value="1"></i><b>(1)</b>
<span style="color:#606">users</span>:
- <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">jane.smith@example.com</span></span>
- <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">jim.adams@example.com</span></span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The name of the Group as specified by the user-defined name mapping.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="rfc2307-with-error-tolerances"><a class="anchor" href="#rfc2307-with-error-tolerances"></a>RFC 2307 with User-Defined Error Tolerances</h3>
<div class="paragraph">
<p>By default, if the groups being synced contain members whose entries are outside
of the scope defined in the member query, the group sync fails with an error:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Error determining LDAP group membership for "&lt;group&gt;": membership lookup for user "&lt;user&gt;" in group "&lt;group&gt;" failed because of "search for entry with dn="&lt;user-dn&gt;" would search outside of the base dn specified (dn="&lt;base-dn&gt;")".</pre>
</div>
</div>
<div class="paragraph">
<p>This often indicates a mis-configured <code>baseDN</code> in the <code>usersQuery</code> field.
However, in cases where the <code>baseDN</code> intentionally does not contain some of the
members of the group, setting <code>tolerateMemberOutOfScopeErrors: true</code> allows
the group sync to continue. Out of scope members will be ignored.</p>
</div>
<div class="paragraph">
<p>Similarly, when the group sync process fails to locate a member for a group, it
fails outright with errors:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Error determining LDAP group membership for "&lt;group&gt;": membership lookup for user "&lt;user&gt;" in group "&lt;group&gt;" failed because of "search for entry with base dn="&lt;user-dn&gt;" refers to a non-existent entry".

Error determining LDAP group membership for "&lt;group&gt;": membership lookup for user "&lt;user&gt;" in group "&lt;group&gt;" failed because of "search for entry with base dn="&lt;user-dn&gt;" and filter "&lt;filter&gt;" did not return any results".</pre>
</div>
</div>
<div class="paragraph">
<p>This often indicates a mis-configured <code>usersQuery</code> field. However, in cases
where the group contains member entries that are known to be missing, setting
<code>tolerateMemberNotFoundErrors: true</code> allows the group sync to continue.
Problematic members will be ignored.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Enabling error tolerances for the LDAP group sync causes the sync process to
ignore problematic member entries. If the LDAP group sync is not configured
correctly, this could result in synced OpenShift Enterprise groups missing members.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="exampleblock">
<div class="title">Example 9. LDAP Entries Using RFC 2307 Schema With Problematic Group Membership: <strong><em>rfc2307_problematic_users.ldif</em></strong></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ldif">  dn: ou=users,dc=example,dc=com
  objectClass: organizationalUnit
  ou: users

  dn: cn=Jane,ou=users,dc=example,dc=com
  objectClass: person
  objectClass: organizationalPerson
  objectClass: inetOrgPerson
  cn: Jane
  sn: Smith
  displayName: Jane Smith
  mail: jane.smith@example.com

  dn: cn=Jim,ou=users,dc=example,dc=com
  objectClass: person
  objectClass: organizationalPerson
  objectClass: inetOrgPerson
  cn: Jim
  sn: Adams
  displayName: Jim Adams
  mail: jim.adams@example.com

  dn: ou=groups,dc=example,dc=com
  objectClass: organizationalUnit
  ou: groups

  dn: cn=admins,ou=groups,dc=example,dc=com
  objectClass: groupOfNames
  cn: admins
  owner: cn=admin,dc=example,dc=com
  description: System Administrators
  member: cn=Jane,ou=users,dc=example,dc=com
  member: cn=Jim,ou=users,dc=example,dc=com
  member: cn=INVALID,ou=users,dc=example,dc=com <i class="conum" data-value="1"></i><b>(1)</b>
  member: cn=Jim,ou=OUTOFSCOPE,dc=example,dc=com <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>A member that does not exist on the LDAP server.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A member that may exist, but is not under the <code>baseDN</code> in the
user query for the sync job.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>In order to tolerate the errors in the above example, the following additions to
your sync configuration file must be made:</p>
</div>
<div class="exampleblock">
<div class="title">Example 10. LDAP Sync Configuration Using RFC 2307 Schema Tolerating Errors: <strong><em>rfc2307_config_tolerating.yaml</em></strong></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">kind</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">LDAPSyncConfig</span></span>
<span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">v1</span></span>
<span style="color:#606">url</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">ldap://LDAP_SERVICE_IP:389</span></span>
<span style="color:#606">insecure</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">true</span></span>
<span style="color:#606">rfc2307</span>:
    <span style="color:#606">groupsQuery</span>:
        <span style="color:#606">baseDN</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ou=groups,dc=example,dc=com</span><span style="color:#710">&quot;</span></span>
        <span style="color:#606">scope</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">sub</span></span>
        <span style="color:#606">derefAliases</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">never</span></span>
        <span style="color:#606">filter</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">(objectclass=groupOfNames)</span></span>
    <span style="color:#606">groupUIDAttribute</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">dn</span></span>
    <span style="color:#606">groupNameAttributes</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">[ cn ]</span></span>
    <span style="color:#606">groupMembershipAttributes</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">[ member ]</span></span>
    <span style="color:#606">usersQuery</span>:
        <span style="color:#606">baseDN</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ou=users,dc=example,dc=com</span><span style="color:#710">&quot;</span></span>
        <span style="color:#606">scope</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">sub</span></span>
        <span style="color:#606">derefAliases</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">never</span></span>
        <span style="color:#606">filter</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">(objectclass=inetOrgPerson)</span></span>
    <span style="color:#606">userUIDAttribute</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">dn</span></span>
    <span style="color:#606">userNameAttributes</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">[ mail ]</span></span>
    <span style="color:#606">tolerateMemberNotFoundErrors</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">true </span></span><i class="conum" data-value="1"></i><b>(1)</b>
    <span style="color:#606">tolerateMemberOutOfScopeErrors</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">true </span></span> <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>When <code>true</code>, the sync job tolerates groups for which some members were not
found, and members whose LDAP entries are not found are ignored. The
default behavior for the sync job is to fail if a member of a group is not
found.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>When <code>true</code>, the sync job tolerates groups for which some members are outside
the user scope given in the <code>usersQuery</code> base DN, and members outside the member
query scope are ignored. The default behavior for the sync job is to fail if a
member of a group is out of scope.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>To run sync with the <strong><em>rfc2307_config_tolerating.yaml</em></strong> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ oadm groups sync --sync-config=rfc2307_config_tolerating.yaml --confirm</pre>
</div>
</div>
<div class="paragraph">
<p>OpenShift Enterprise creates the following group record as a result of the above sync
operation:</p>
</div>
<div class="exampleblock">
<div class="title">Example 11. OpenShift Enterprise Group Created Using <strong><em>rfc2307_config.yaml</em></strong></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">v1</span></span>
<span style="color:#606">kind</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">Group</span></span>
<span style="color:#606">metadata</span>:
  <span style="color:#606">annotations</span>:
    <span style="color:#606">openshift.io/ldap.sync-time</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">2015-10-13T10:08:38-0400</span></span>
    <span style="color:#606">openshift.io/ldap.uid</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">cn=admins,ou=groups,dc=example,dc=com</span></span>
    <span style="color:#606">openshift.io/ldap.url</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">LDAP_SERVER_IP:389</span></span>
  <span style="color:#606">creationTimestamp</span>:
  <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">admins</span></span>
<span style="color:#606">users</span>: <i class="conum" data-value="1"></i><b>(1)</b>
- <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">jane.smith@example.com</span></span>
- <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">jim.adams@example.com</span></span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The users that are members of the group, as specified by the sync file.
Members for which lookup encountered tolerated errors are absent.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sync-ldap-active-directory"><a class="anchor" href="#sync-ldap-active-directory"></a>Active Directory</h3>
<div class="paragraph">
<p>In the Active Directory schema, both users (Jane and Jim) exist in the LDAP
server as first-class entries, and group membership is stored in attributes on
the user. The following snippet of <code>ldif</code> defines the users and group for this
schema:</p>
</div>
<div class="exampleblock">
<div class="title">Example 12. LDAP Entries Using Active Directory Schema: <strong><em>active_directory.ldif</em></strong></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ldif">dn: ou=users,dc=example,dc=com
objectClass: organizationalUnit
ou: users

dn: cn=Jane,ou=users,dc=example,dc=com
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: testPerson
cn: Jane
sn: Smith
displayName: Jane Smith
mail: jane.smith@example.com
testMemberOf: admins <i class="conum" data-value="1"></i><b>(1)</b>

dn: cn=Jim,ou=users,dc=example,dc=com
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: testPerson
cn: Jim
sn: Adams
displayName: Jim Adams
mail: jim.adams@example.com
testMemberOf: admins</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The user&#8217;s group memberships are listed as attributes on the user, and the
group does not exist as an entry on the server. The <code><strong>testMemberOf</strong></code> attribute
cannot be a literal attribute on the user; it can be created during search and
returned to the client, but not committed to the database.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>To sync this group, you must first create the configuration file. The
Active Directory schema requires you to provide an LDAP query definition for
user entries, as well as the attributes to represent them with in the internal
OpenShift Enterprise Group records.</p>
</div>
<div class="paragraph">
<p>For clarity, the Group you create in OpenShift Enterprise should use attributes other
than the distinguished name whenever possible for user- or administrator-facing
fields. For example, identify the users of a Group by their e-mail, but define
the name of the Group by the name of the group on the LDAP server.
The following configuration file creates these relationships:</p>
</div>
<div class="exampleblock">
<div class="title">Example 13. LDAP Sync Configuration Using Active Directory Schema: <strong><em>active_directory_config.yaml</em></strong></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">kind</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">LDAPSyncConfig</span></span>
<span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">v1</span></span>
<span style="color:#606">url</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">ldap://LDAP_SERVICE_IP:389</span></span>
<span style="color:#606">insecure</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">true</span></span>
<span style="color:#606">activeDirectory</span>:
    <span style="color:#606">usersQuery</span>:
        <span style="color:#606">baseDN</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ou=users,dc=example,dc=com</span><span style="color:#710">&quot;</span></span>
        <span style="color:#606">scope</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">sub</span></span>
        <span style="color:#606">derefAliases</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">never</span></span>
        <span style="color:#606">filter</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">(objectclass=inetOrgPerson)</span></span>
        <span style="color:#606">pageSize</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">0</span></span>
    <span style="color:#606">userNameAttributes</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">[ mail ] </span></span><i class="conum" data-value="1"></i><b>(1)</b>
    <span style="color:#606">groupMembershipAttributes</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">[ testMemberOf ] </span></span> <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The attribute to use as the name of the user in the OpenShift Enterprise Group record.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The attribute on the user that stores the membership information.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>To run sync with the <strong><em>active_directory_config.yaml</em></strong> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ oadm groups sync --sync-config=active_directory_config.yaml --confirm</pre>
</div>
</div>
<div class="paragraph">
<p>OpenShift Enterprise creates the following Group record as a result of the above sync
operation:</p>
</div>
<div class="exampleblock">
<div class="title">Example 14. OpenShift Enterprise Group Created Using <strong><em>active_directory_config.yaml</em></strong></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">v1</span></span>
<span style="color:#606">kind</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">Group</span></span>
<span style="color:#606">metadata</span>:
  <span style="color:#606">annotations</span>:
    <span style="color:#606">openshift.io/ldap.sync-time</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">2015-10-13T10:08:38-0400 </span></span><i class="conum" data-value="1"></i><b>(1)</b>
    <span style="color:#606">openshift.io/ldap.uid</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">admins </span></span><i class="conum" data-value="2"></i><b>(2)</b>
    <span style="color:#606">openshift.io/ldap.url</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">LDAP_SERVER_IP:389 </span></span><i class="conum" data-value="3"></i><b>(3)</b>
  <span style="color:#606">creationTimestamp</span>:
  <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">admins </span></span><i class="conum" data-value="4"></i><b>(4)</b>
<span style="color:#606">users</span>: <i class="conum" data-value="5"></i><b>(5)</b>
- <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">jane.smith@example.com</span></span>
- <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">jim.adams@example.com</span></span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The last time this Group was synchronized with the LDAP server, in ISO 6801
format.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The unique identifier for the group on the LDAP server.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The IP address and host of the LDAP server where this Group&#8217;s record is
stored.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The name of the group as listed in the LDAP server.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The users that are members of the Group, named as specified by the sync
file.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sync-ldap-augmented-active-directory"><a class="anchor" href="#sync-ldap-augmented-active-directory"></a>Augmented Active Directory</h3>
<div class="paragraph">
<p>In the augmented Active Directory schema, both users (Jane and Jim) and groups
exist in the LDAP server as first-class entries, and group membership is stored
in attributes on the user. The following snippet of <code>ldif</code> defines the users and
group for this schema:</p>
</div>
<div class="exampleblock">
<div class="title">Example 15. LDAP Entries Using Augmented Active Directory Schema: <strong><em>augmented_active_directory.ldif</em></strong></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ldif">dn: ou=users,dc=example,dc=com
objectClass: organizationalUnit
ou: users

dn: cn=Jane,ou=users,dc=example,dc=com
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: testPerson
cn: Jane
sn: Smith
displayName: Jane Smith
mail: jane.smith@example.com
testMemberOf: cn=admins,ou=groups,dc=example,dc=com <i class="conum" data-value="1"></i><b>(1)</b>

dn: cn=Jim,ou=users,dc=example,dc=com
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: testPerson
cn: Jim
sn: Adams
displayName: Jim Adams
mail: jim.adams@example.com
testMemberOf: cn=admins,ou=groups,dc=example,dc=com

dn: ou=groups,dc=example,dc=com
objectClass: organizationalUnit
ou: groups

dn: cn=admins,ou=groups,dc=example,dc=com <i class="conum" data-value="2"></i><b>(2)</b>
objectClass: groupOfNames
cn: admins
owner: cn=admin,dc=example,dc=com
description: System Administrators
member: cn=Jane,ou=users,dc=example,dc=com
member: cn=Jim,ou=users,dc=example,dc=com</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The user&#8217;s group memberships are listed as attributes on the user.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The group is a first-class entry on the LDAP server.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>To sync this group, you must first create the configuration file. The
augmented Active Directory schema requires you to provide an LDAP query
definition for both user entries and group entries, as well as the attributes
with which to represent them in the internal OpenShift Enterprise Group records.</p>
</div>
<div class="paragraph">
<p>For clarity, the Group you create in OpenShift Enterprise should use attributes other
than the distinguished name whenever possible for user- or administrator-facing
fields. For example, identify the users of a Group by their e-mail,
and use the name of the Group as the common name. The following configuration
file creates these relationships.</p>
</div>
<div class="exampleblock">
<div class="title">Example 16. LDAP Sync Configuration Using Augmented Active Directory Schema: <strong><em>augmented_active_directory_config.yaml</em></strong></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">kind</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">LDAPSyncConfig</span></span>
<span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">v1</span></span>
<span style="color:#606">url</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">ldap://LDAP_SERVICE_IP:389</span></span>
<span style="color:#606">insecure</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">true</span></span>
<span style="color:#606">augmentedActiveDirectory</span>:
    <span style="color:#606">groupsQuery</span>:
        <span style="color:#606">baseDN</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ou=groups,dc=example,dc=com</span><span style="color:#710">&quot;</span></span>
        <span style="color:#606">scope</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">sub</span></span>
        <span style="color:#606">derefAliases</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">never</span></span>
        <span style="color:#606">filter</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">(objectclass=groupOfNames)</span></span>
        <span style="color:#606">pageSize</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">0</span></span>
    <span style="color:#606">groupUIDAttribute</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">dn </span></span><i class="conum" data-value="1"></i><b>(1)</b>
    <span style="color:#606">groupNameAttributes</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">[ cn ] </span></span><i class="conum" data-value="2"></i><b>(2)</b>
    <span style="color:#606">usersQuery</span>:
        <span style="color:#606">baseDN</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ou=users,dc=example,dc=com</span><span style="color:#710">&quot;</span></span>
        <span style="color:#606">scope</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">sub</span></span>
        <span style="color:#606">derefAliases</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">never</span></span>
        <span style="color:#606">filter</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">(objectclass=inetOrgPerson)</span></span>
        <span style="color:#606">pageSize</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">0</span></span>
    <span style="color:#606">userNameAttributes</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">[ mail ] </span></span><i class="conum" data-value="3"></i><b>(3)</b>
    <span style="color:#606">groupMembershipAttributes</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">[ testMemberOf ] </span></span> <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The attribute that uniquely identifies a group on the LDAP server.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The attribute to use as the name of the Group.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The attribute to use as the name of the user in the OpenShift Enterprise Group record.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The attribute on the user that stores the membership information.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>To run sync with the <strong><em>augmented_active_directory_config.yaml</em></strong> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ oadm groups sync --sync-config=augmented_active_directory_config.yaml --confirm</pre>
</div>
</div>
<div class="paragraph">
<p>OpenShift Enterprise creates the following Group record as a result of the above sync
operation:</p>
</div>
<div class="exampleblock">
<div class="title">Example 17. OpenShift Group Created Using <strong><em>augmented_active_directory_config.yaml</em></strong></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">apiVersion</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">v1</span></span>
<span style="color:#606">kind</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">Group</span></span>
<span style="color:#606">metadata</span>:
  <span style="color:#606">annotations</span>:
    <span style="color:#606">openshift.io/ldap.sync-time</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">2015-10-13T10:08:38-0400 </span></span><i class="conum" data-value="1"></i><b>(1)</b>
    <span style="color:#606">openshift.io/ldap.uid</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">cn=admins,ou=groups,dc=example,dc=com </span></span><i class="conum" data-value="2"></i><b>(2)</b>
    <span style="color:#606">openshift.io/ldap.url</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">LDAP_SERVER_IP:389 </span></span><i class="conum" data-value="3"></i><b>(3)</b>
  <span style="color:#606">creationTimestamp</span>:
  <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">admins </span></span><i class="conum" data-value="4"></i><b>(4)</b>
<span style="color:#606">users</span>: <i class="conum" data-value="5"></i><b>(5)</b>
- <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">jane.smith@example.com</span></span>
- <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">jim.adams@example.com</span></span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The last time this Group was synchronized with the LDAP server, in ISO 6801 format.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The unique identifier for the group on the LDAP server.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The IP address and host of the LDAP server where this Group&#8217;s record is stored.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The name of the Group as specified by the sync file.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The users that are members of the Group, named as specified by the sync file.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
      </div>
    </div>
  </div>
  <script type="text/javascript">
    /*<![CDATA[*/
    $(document).ready(function() {
      $("[id^='topicGroup']").on('show.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicGroup']").on('hide.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicSubGroup']").on('show.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
      $("[id^='topicSubGroup']").on('hide.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
    });
    /*]]>*/
  </script>
    <footer class="footer-openshift">
  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-sm-4 col-md-3 logo">
        <a href="https://www.redhat.com/"></a>
      </div>
      <div class="col-xs-12 col-sm-4 col-md-6 text-center">
        <div class="row">
          <div class="col-xs-12 col-md-4">
            <a href="https://www.openshift.com/legal/privacy.html">
              Privacy Policy
            </a>
          </div>
          <div class="col-xs-12 col-md-4">
          <a href="https://www.openshift.com/legal/terms.html">
            Terms and Conditions
          </a>
          </div>
          <div class="col-xs-12 col-md-4">
          <a href="http://www.openshift.org/">
            Open Source
          </a>
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-4 col-md-3 text-right">
        <a id="built_with_asciibinder" href="http://asciibinder.org/">
          <img src="../../scollier-test/_images/asciibinder_web_logo.svg" alt="AsciiBinder" />
        </a>
      </div>
    </div>
  </div>
</footer>
</body>
</html>