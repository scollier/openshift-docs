<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8"> <![endif]-->
<!--[if IE 9]> <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
<html>
<!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>OpenShift Enterprise Branch Build | Installation and Configuration | Installing | Prerequisites</title>
  <link href="https://assets.openshift.net/content/subdomain.css" rel="stylesheet" type="text/css">
  <link href="../../../scollier-test/_stylesheets/docs.css" rel="stylesheet" />
  <link href="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" rel="apple-touch-icon-precomposed" type="image/png">
  <link href="https://assets.openshift.net/content/subdomain/favicon32x32.png" rel="shortcut icon" type="text/css">
  <!--[if IE]><link rel="shortcut icon" href="https://assets.openshift.net/content/subdomain/favicon.ico"><![endif]-->
  <!-- or, set /favicon.ico for IE10 win -->
  <meta content="OpenShift" name="application-name">
  <meta content="#000000" name="msapplication-TileColor">
  <meta content="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" name="msapplication-TileImage">
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://assets.openshift.net/content/html5shiv.js" type="text/javascript"></script>
    <script src="https://assets.openshift.net/content/respond.js" type="text/javascript"></script>
    <link href="https://assets.openshift.net/content/vendor/respond-js/respond-proxy.html" id="respond-proxy" rel="respond-proxy">
    <link href="../../../scollier-test/_images/respond.proxy.gif" id="respond-redirect" rel="respond-redirect">
    <script src="../../../scollier-test/_javascripts/respond.proxy.js" type="text/javascript"></script>
  <![endif]-->
  <script src="https://assets.openshift.net/content/modernizr.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/subdomain.js" type="text/javascript"></script>
  <script src="../../../scollier-test/_javascripts/bootstrap-offcanvas.js" type="text/javascript"></script>
  <script type="text/javascript" src="https://assets.openshift.net/app/assets/site/tracking.js"></script>
</head>
<body>
  <div class="navbar navbar-default navbar-openshift" role="navigation">
  <div class="navbar-header">
    <div class="dropdown">
      <a href="#" class="dropdown-toggle navbar-menu-toggle" data-toggle="dropdown">
        <span class="navbar-menu-title">MENU</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>
      <ul class="dropdown-menu navbar-menu" role="menu">
        <li class="submenu">
          <a href="#">Overview</a>
          <ul id="submenu-overview" class="dropdown-submenu">
            <li class="submenu-heading">Introduction to OpenShift</li>
            <li>
              <a href="https://www.openshift.com/about/index.html">
                What is OpenShift?
                <span class="submenu-item-desc">Learn about Red Hat's next-generation cloud application platform.</span>
              </a>
            </li>
            <li>
              <a href="https://enterprise.openshift.com/customers">
                Our Customers
                <span class="submenu-item-desc">Discover what companies are using OpenShift to deliver a flexible, scalable cloud applicaiton environtment.</span>
              </a>
            </li>
            <li class="submenu-heading">News</li>
            <li>
              <a href="https://www.openshift.com/about/awards.html">
                Awards
                <span class="submenu-item-desc">Industry recognition and awards.</span>
              </a>
            </li>
            <li>
              <a href="https://blog.openshift.com/">
                OpenShift Blog
                <span class="submenu-item-desc">Keep your finger on the pulse of all things OpenShift.</span>
              </a>
            </li>
            <li>
              <a href="https://blog.openshift.com/category/events/">
                Events
                <span class="submenu-item-desc">OpenShift sponsors and attends a variety of in-person events around the globe.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/about/press.html">
                In the Press
                <span class="submenu-item-desc">The latest OpenShift news and press releases.</span>
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="http://jobs.redhat.com/job-search-results/?keywords=openshift">
                Careers <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/about/logos.html">
                Logos &amp; Media
              </a>
            </li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#">Features</a>
          <ul id="submenu-features" class="dropdown-submenu">
            <li class="submenu-heading">OpenShift Online</li>
            <li>
              <a href="https://www.openshift.com/features/index.html">
                Overview
                <span class="submenu-item-desc">Quickly develop, host, and scale applications in the public cloud with on-demand access.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/pricing/index.html">
                Plans &amp; Pricing
                <span class="submenu-item-desc">Host up to 3 apps for free. Upgrade and add production gears, extra storage, and more.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/app/account/new">
                Sign up for Free
              </a>
            </li>
            <li class="submenu-heading">OpenShift Dedicated</li>
            <li>
              <a href="https://www.openshift.com/dedicated/index.html">
                Overview
                <span class="submenu-item-desc">Your own private OpenShift cluster, operated by Red Hat.</span>
              </a>
            </li>
            <li class="submenu-heading">OpenShift Enterprise</li>
            <li>
              <a href="https://enterprise.openshift.com/">
                Overview
                <span class="submenu-item-desc">Accelerate application delivery with the speed and consistency that business demands.</span>
              </a>
            </li>
            <li>
              <a href="https://enterprise.openshift.com/resources/index.html">
                Resources
                <span class="submenu-item-desc">Webinars, datasheets, reference architectures, demo videos and more.</span>
              </a>
            </li>
            <li>
              <a href="https://enterprise.openshift.com/trial.html">
                Try it for Free
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="https://www.openshift.com/showcase/index.html">
                Application Gallery
              </a>
            </li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#">Developers</a>
          <ul id="submenu-developers" class="dropdown-submenu">
            <li>
              <a href="https://developers.openshift.com/en/getting-started-overview.html">
                Getting Started
                <span class="submenu-item-desc">New to OpenShift? Get your first application up and running and learn the basics.</span>
              </a>
            </li>
            <li>
              <a href="https://hub.openshift.com/">
                Hub
                <span class="submenu-item-desc">Find languages, frameworks, databases, and add-on services for OpenShift.</span>
              </a>
            </li>
            <li>
              <a href="https://developers.openshift.com/">
                Developer Portal
                <span class="submenu-item-desc">Learn about building, deploying, and managing your applications.</span>
              </a>
            </li>
            <li>
              <a href="https://docs.openshift.com/">
                Documentation
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="http://stackoverflow.com/questions/tagged/openshift">
                Stack Overflow
                <span class="submenu-item-desc">A Q&amp;A site for everything development related. Post a question or browse answers on the 'openshift' tag.</span>
              </a>
            </li>
            <li>
              <a href="https://enterprise.openshift.com/resources/index.html#training">
                Training &amp; Certification
                <span class="submenu-item-desc">Red Hat Training's hands-on, task-focused courses and certifications for IT professionals and developers.</span>
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="https://www.openshift.com/showcase/index.html">
                Application Gallery
                <span class="submenu-item-desc">Our showcase of applications running on OpenShift Online.</span>
              </a>
            </li>
            <li>
              <a href="http://www.openshift.org/#contribute">
                Contribute to OpenShift <i class="fa fa-external-link pull-right"></i>
                <span class="submenu-item-desc">Get in touch with our product team, or become a part of the OpenShift Origin open source project.</span>
              </a>
            </li>
            <li>
              <a href="https://openshift.uservoice.com/">
                Vote on Features
              </a>
            </li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#">Partners</a>
          <ul id="submenu-partners" class="dropdown-submenu">
            <li>
              <a href="https://www.openshift.com/partners/index.html">
                Become a Partner
                <span class="submenu-item-desc">Build on the strength of the world's leading open source company.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/partners/index.html">
                Find OpenShift Partners
                <span class="submenu-item-desc">Find qualified partners to help you with your OpenShift projects.</span>
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="http://commons.openshift.org/">
                OpenShift Commons <i class="fa fa-external-link pull-right"></i>
                <span class="submenu-item-desc">Where users, partners, customers, and contributors come together to collaborate on OpenShift.</span>
              </a>
            </li>
            <li class="submenu-divider"></li>
            <li>
              <a href="https://www.openshift.com/grants/index.html">
                Resource Grants
                <span class="submenu-item-desc">For non-profits, educational institutions, and open source initiatives.</span>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/startups/index.html">
                Startup Program
                <span class="submenu-item-desc">Designed to help startups build and scale.</span>
              </a>
            </li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#">Support</a>
          <ul id="submenu-support" class="dropdown-submenu">
            <li>
              <a href="https://access.redhat.com/">
                Red Hat Customer Portal <i class="fa fa-external-link pull-right"></i>
                <span class="submenu-item-desc">Manage support cases, browse Knowledgebase articles, and more.</span>
              </a>
            </li>
            <li>
              <a href="https://docs.openshift.com/">
                Documentation
                <span class="submenu-item-desc">Official product documentation from Red Hat.</span>
              </a>
            </li>
            <li>
              <a href="https://help.openshift.com/">
                Help Center
                <span class="submenu-item-desc">The fastest way to find your available support options.</span>
              </a>
            </li>
            <li>
              <a href="http://stackoverflow.com/questions/tagged/openshift">
                Stack Overflow <i class="fa fa-external-link pull-right"></i>
                <span class="submenu-item-desc">A Q&amp;A site for everything development related. Post a question or browse answers on the 'openshift' tag.</span>
              </a>
            </li>
            <li>
              <a href="https://openshift.redhat.com/app/status">
                System Status <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://www.openshift.com/about/contact.html">
                Contact Us
              </a>
            </li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#">Connect</a>
          <ul id="submenu-connect" class="dropdown-submenu">
            <li>
              <a href="https://blog.openshift.com/">
                Blog
              </a>
            </li>
            <li>
              <a href="https://blog.openshift.com/category/events/">
                Events &amp; Conferences
              </a>
            </li>
            <li>
              <a href="http://commons.openshift.org/">
                OpenShift Commons <i class="fa fa-external-link pull-right"></i>
                <span class="submenu-item-desc">Where users, partners, customers, and contributors come together to collaborate on OpenShift.</span>
              </a>
            </li>
            <li>
              <a href="https://twitter.com/openshift">
                Twitter <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://www.facebook.com/openshift">
                Facebook <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://www.linkedin.com/grp/home?gid=4185734">
                LinkedIn <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://github.com/openshift/">
                GitHub <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://plus.google.com/+OpenShift">
                Google+ <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://www.youtube.com/user/rhopenshift">
                YouTube <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
          </ul>
        </li>
        <li>
          <a href="https://www.openshift.com/about/contact.html">
            Contact Us
          </a>
        </li>
        <li>
          <form action="https://help.openshift.com/hc/en-us/search" method="get" id="cse-search-form">
            <input name="query" id="cse-search-input" class="navbar-search-query form-control" type="text" placeholder="Search" tabindex="1" autocomplete="off" autofocus>
            <button type="submit" class="btn btn-default fa fa-search" value="Search"></button>
          </form>
        </li>
      </ul>
    </div>
    <a class="navbar-brand" href="/"></a>
  </div>
  <div class="navbar-collapse collapse">
    <ul class="nav navbar-nav navbar-right">
      <li class="hidden-xs dropdown"> <a href="#" class="dropdown-toggle nav-log-in" data-toggle="dropdown"> My Account<span class="caret"></span> </a>
        <ul class="dropdown-menu">
          <li><a href="https://openshift.redhat.com/app/console">OpenShift Web Console</a></li>
          <li><a href="https://console.preview.openshift.com/">(Next Gen) Web Console</a></li>
          <li><a href="https://hub.openshift.com/users/auth/github">OpenShift Hub</a></li>
        </ul>
      </li>
      <li class="hidden-xs hidden-sm"><a class="nav-sign-up" href="https://www.openshift.com/app/account/new">Sign up for Free</a></li>
    </ul>
  </div>
</div>
  <div class="container">
    <p class="toggle-nav visible-xs pull-left">
      <button class="btn btn-default btn-sm" type="button" data-toggle="offcanvas">Toggle nav</button>
    </p>
    <ol class="breadcrumb">
      <li class="sitename">
        <a href="../../../index.html">Documentation</a>
      </li>
      <li class="hidden-xs active">
        <a href="../../welcome/index.html">OpenShift Enterprise Branch Build</a>
      </li>
      <li class="hidden-xs active">
        <a href="../../install_config/index.html">Installation and Configuration</a>
      </li>
      <li class="hidden-xs active"><a href="../../install_config/install/index.html">Installing</a></li>
      <li class="hidden-xs active">
        Prerequisites
      </li>
    </ol>
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-8 col-sm-3 col-md-3 sidebar sidebar-offcanvas">
        <div class="row-fluid">
          <script>
  (function() {
    var cx = '013769182564158614814:e-dp46b51vk';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search defaultToRefinement="Enterprise Branch Build"></gcse:search>
        </div>
        <ul class="nav nav-sidebar">
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup0">
        <span id="tgSpan0" class="fa fa-angle-right"></span>About
      </a>
      <ul id="topicGroup0" class="collapse  list-unstyled">
            <li><a class="" href="../../welcome/index.html">Welcome</a></li>
            <li><a class="" href="../../welcome/revhistory_all.html">All Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup1">
        <span id="tgSpan1" class="fa fa-angle-right"></span>Release Notes
      </a>
      <ul id="topicGroup1" class="collapse  list-unstyled">
            <li><a class="" href="../../release_notes/index.html">Overview</a></li>
            <li><a class="" href="../../release_notes/ose_3_2_release_notes.html">OpenShift Enterprise 3.2 Release Notes</a></li>
            <li><a class="" href="../../release_notes/xpaas_release_notes.html">xPaaS Release Notes</a></li>
            <li><a class="" href="../../release_notes/v2_vs_v3.html">Comparing OpenShift Enterprise 2 and OpenShift Enterprise 3</a></li>
            <li><a class="" href="../../release_notes/revhistory_release_notes.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup2">
        <span id="tgSpan2" class="fa fa-angle-right"></span>Getting Started
      </a>
      <ul id="topicGroup2" class="collapse  list-unstyled">
            <li><a class="" href="../../getting_started/index.html">Overview</a></li>
            <li><a class="" href="../../getting_started/developers_console.html">Web Console Walkthrough</a></li>
            <li><a class="" href="../../getting_started/administrators.html">Setting Up a Cluster</a></li>
            <li><a class="" href="../../getting_started/revhistory_getting_started.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup3">
        <span id="tgSpan3" class="fa fa-angle-right"></span>Architecture
      </a>
      <ul id="topicGroup3" class="collapse  list-unstyled">
            <li><a class="" href="../../architecture/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-1">
                <span id="sgSpan-3-1" class="fa fa-caret-right"></span>&nbsp;Infrastructure Components
              </a>
              <ul id="topicSubGroup-3-1" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../architecture/infrastructure_components/kubernetes_infrastructure.html">Kubernetes Infrastructure</a></li>
                  <li><a class="" href="../../architecture/infrastructure_components/image_registry.html">Image Registry</a></li>
                  <li><a class="" href="../../architecture/infrastructure_components/web_console.html">Web Console</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-2">
                <span id="sgSpan-3-2" class="fa fa-caret-right"></span>&nbsp;Core Concepts
              </a>
              <ul id="topicSubGroup-3-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../architecture/core_concepts/index.html">Overview</a></li>
                  <li><a class="" href="../../architecture/core_concepts/containers_and_images.html">Containers and Images</a></li>
                  <li><a class="" href="../../architecture/core_concepts/pods_and_services.html">Pods and Services</a></li>
                  <li><a class="" href="../../architecture/core_concepts/projects_and_users.html">Projects and Users</a></li>
                  <li><a class="" href="../../architecture/core_concepts/builds_and_image_streams.html">Builds and Image Streams</a></li>
                  <li><a class="" href="../../architecture/core_concepts/deployments.html">Deployments</a></li>
                  <li><a class="" href="../../architecture/core_concepts/routes.html">Routes</a></li>
                  <li><a class="" href="../../architecture/core_concepts/templates.html">Templates</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-3">
                <span id="sgSpan-3-3" class="fa fa-caret-right"></span>&nbsp;Additional Concepts
              </a>
              <ul id="topicSubGroup-3-3" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../architecture/additional_concepts/networking.html">Networking</a></li>
                  <li><a class="" href="../../architecture/additional_concepts/sdn.html">OpenShift SDN</a></li>
                  <li><a class="" href="../../architecture/additional_concepts/authentication.html">Authentication</a></li>
                  <li><a class="" href="../../architecture/additional_concepts/authorization.html">Authorization</a></li>
                  <li><a class="" href="../../architecture/additional_concepts/storage.html">Persistent Storage</a></li>
                  <li><a class="" href="../../architecture/additional_concepts/remote_commands.html">Remote Commands</a></li>
                  <li><a class="" href="../../architecture/additional_concepts/port_forwarding.html">Port Forwarding</a></li>
                  <li><a class="" href="../../architecture/additional_concepts/throttling.html">Throttling</a></li>
                  <li><a class="" href="../../architecture/additional_concepts/scm.html">Source Control Management</a></li>
                  <li><a class="" href="../../architecture/additional_concepts/admission_controllers.html">Admission Controllers</a></li>
                  <li><a class="" href="../../architecture/additional_concepts/other_api_objects.html">Other API Objects</a></li>
              </ul>
            </li>
            <li><a class="" href="../../architecture/revhistory_architecture.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup4">
        <span id="tgSpan4" class="fa fa-angle-down"></span>Installation and Configuration
      </a>
      <ul id="topicGroup4" class="collapse in list-unstyled">
            <li><a class="" href="../../install_config/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-1">
                <span id="sgSpan-4-1" class="fa fa-caret-down"></span>&nbsp;Installing
              </a>
              <ul id="topicSubGroup-4-1" class="nav-tertiary list-unstyled collapse in">
                  <li><a class="" href="../../install_config/install/index.html">Overview</a></li>
                  <li><a class=" active" href="../../install_config/install/prerequisites.html">Prerequisites</a></li>
                  <li><a class="" href="../../install_config/install/rpm_vs_containerized.html">RPM vs Containerized</a></li>
                  <li><a class="" href="../../install_config/install/quick_install.html">Quick Installation</a></li>
                  <li><a class="" href="../../install_config/install/advanced_install.html">Advanced Installation</a></li>
                  <li><a class="" href="../../install_config/install/disconnected_install.html">Disconnected Installation</a></li>
                  <li><a class="" href="../../install_config/install/docker_registry.html">Deploying a Docker Registry</a></li>
                  <li><a class="" href="../../install_config/install/deploy_router.html">Deploying a Router</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-2">
                <span id="sgSpan-4-2" class="fa fa-caret-right"></span>&nbsp;Upgrading
              </a>
              <ul id="topicSubGroup-4-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../install_config/upgrading/index.html">Overview</a></li>
                  <li><a class="" href="../../install_config/upgrading/automated_upgrades.html">Automated Upgrades</a></li>
                  <li><a class="" href="../../install_config/upgrading/manual_upgrades.html">Manual Upgrades</a></li>
              </ul>
            </li>
            <li><a class="" href="../../install_config/downgrade.html">Downgrading</a></li>
            <li><a class="" href="../../install_config/master_node_configuration.html">Master and Node Configuration</a></li>
            <li><a class="" href="../../install_config/imagestreams_templates.html">Loading the Default Image Streams and Templates</a></li>
            <li><a class="" href="../../install_config/certificate_customization.html">Configuring Custom Certificates</a></li>
            <li><a class="" href="../../install_config/configuring_authentication.html">Configuring Authentication and User Agent</a></li>
            <li><a class="" href="../../install_config/syncing_groups_with_ldap.html">Syncing Groups With LDAP</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-9">
                <span id="sgSpan-4-9" class="fa fa-caret-right"></span>&nbsp;Advanced LDAP Configuration
              </a>
              <ul id="topicSubGroup-4-9" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../install_config/advanced_ldap_configuration/index.html">Overview</a></li>
                  <li><a class="" href="../../install_config/advanced_ldap_configuration/sssd_for_ldap_failover.html">Setting up SSSD for LDAP Failover</a></li>
                  <li><a class="" href="../../install_config/advanced_ldap_configuration/configuring_form_based_authentication.html">Configuring Form-Based Authentication</a></li>
                  <li><a class="" href="../../install_config/advanced_ldap_configuration/configuring_extended_ldap_attributes.html">Configuring Extended LDAP Attributes</a></li>
              </ul>
            </li>
            <li><a class="" href="../../install_config/configuring_sdn.html">Configuring the SDN</a></li>
            <li><a class="" href="../../install_config/configuring_aws.html">Configuring for AWS</a></li>
            <li><a class="" href="../../install_config/configuring_openstack.html">Configuring for OpenStack</a></li>
            <li><a class="" href="../../install_config/configuring_gce.html">Configuring for GCE</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-14">
                <span id="sgSpan-4-14" class="fa fa-caret-right"></span>&nbsp;Configuring Persistent Storage
              </a>
              <ul id="topicSubGroup-4-14" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../install_config/persistent_storage/index.html">Overview</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_nfs.html">Using NFS</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_glusterfs.html">Using GlusterFS</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_cinder.html">Using OpenStack Cinder</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_ceph_rbd.html">Using Ceph RBD</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_aws.html">Using AWS Elastic Block Store</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_gce.html">Using GCE Persistent Disk</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_iscsi.html">Using iSCSI</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_fibre_channel.html">Using Fibre Channel</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/dynamically_provisioning_pvs.html">Dynamic Provisioning</a></li>
                  <li><a class="" href="../../install_config/persistent_storage/pod_security_context.html">Volume Security</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-15">
                <span id="sgSpan-4-15" class="fa fa-caret-right"></span>&nbsp;Persistent Storage Examples
              </a>
              <ul id="topicSubGroup-4-15" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../install_config/storage_examples/index.html">Overview</a></li>
                  <li><a class="" href="../../install_config/storage_examples/shared_storage.html">Sharing an NFS PV Across Two Pods</a></li>
                  <li><a class="" href="../../install_config/storage_examples/ceph_example.html">Complete Example Using Ceph RBD</a></li>
                  <li><a class="" href="../../install_config/storage_examples/gluster_example.html">Complete Example Using GlusterFS</a></li>
                  <li><a class="" href="../../install_config/storage_examples/privileged_pod_storage.html">Mounting Volumes To Privileged Pods</a></li>
                  <li><a class="" href="../../install_config/storage_examples/gluster_backed_registry.html">Backing Docker Registry with GlusterFS Storage</a></li>
              </ul>
            </li>
            <li><a class="" href="../../install_config/http_proxies.html">Working with HTTP Proxies</a></li>
            <li><a class="" href="../../install_config/build_defaults_overrides.html">Configuring Global Build Defaults and Overrides</a></li>
            <li><a class="" href="../../install_config/configuring_pipeline_execution.html">Configuring Build Pipeline Execution</a></li>
            <li><a class="" href="../../install_config/native_container_routing.html">Native Container Routing</a></li>
            <li><a class="" href="../../install_config/routing_from_edge_lb.html">Routing from Edge Load Balancers</a></li>
            <li><a class="" href="../../install_config/aggregate_logging.html">Aggregating Container Logs</a></li>
            <li><a class="" href="../../install_config/cluster_metrics.html">Enabling Cluster Metrics</a></li>
            <li><a class="" href="../../install_config/web_console_customization.html">Customizing the Web Console</a></li>
            <li><a class="" href="../../install_config/revhistory_install_config.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup5">
        <span id="tgSpan5" class="fa fa-angle-right"></span>Administrator Solutions
      </a>
      <ul id="topicGroup5" class="collapse  list-unstyled">
            <li><a class="" href="../../admin_solutions/index.html">Overview</a></li>
            <li><a class="" href="../../admin_solutions/master_node_config.html">Master and Node Configuration</a></li>
            <li><a class="" href="../../admin_solutions/user_role_mgmt.html">User and Role Management</a></li>
            <li><a class="" href="../../admin_solutions/authentication.html">Authentication</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup6">
        <span id="tgSpan6" class="fa fa-angle-right"></span>Cluster Administration
      </a>
      <ul id="topicGroup6" class="collapse  list-unstyled">
            <li><a class="" href="../../admin_guide/index.html">Overview</a></li>
            <li><a class="" href="../../admin_guide/manage_nodes.html">Managing Nodes</a></li>
            <li><a class="" href="../../admin_guide/manage_users.html">Managing Users</a></li>
            <li><a class="" href="../../admin_guide/managing_projects.html">Managing Projects</a></li>
            <li><a class="" href="../../admin_guide/service_accounts.html">Configuring Service Accounts</a></li>
            <li><a class="" href="../../admin_guide/manage_authorization_policy.html">Managing Authorization Policies</a></li>
            <li><a class="" href="../../admin_guide/manage_scc.html">Managing Security Context Constraints</a></li>
            <li><a class="" href="../../admin_guide/quota.html">Setting Quotas</a></li>
            <li><a class="" href="../../admin_guide/limits.html">Setting Limit Ranges</a></li>
            <li><a class="" href="../../admin_guide/pruning_resources.html">Pruning Objects</a></li>
            <li><a class="" href="../../admin_guide/garbage_collection.html">Garbage Collection</a></li>
            <li><a class="" href="../../admin_guide/scheduler.html">Scheduler</a></li>
            <li><a class="" href="../../admin_guide/allocating_node_resources.html">Allocating Node Resources</a></li>
            <li><a class="" href="../../admin_guide/overcommit.html">Overcommitting</a></li>
            <li><a class="" href="../../admin_guide/limit_runonce_pod_duration.html">Limit Run-once Pod Duration</a></li>
            <li><a class="" href="../../admin_guide/router.html">Monitoring Routers</a></li>
            <li><a class="" href="../../admin_guide/high_availability.html">High Availability</a></li>
            <li><a class="" href="../../admin_guide/pod_network.html">Managing Pod Networks</a></li>
            <li><a class="" href="../../admin_guide/iptables.html">IPtables</a></li>
            <li><a class="" href="../../admin_guide/securing_builds.html">Securing Builds by Strategy</a></li>
            <li><a class="" href="../../admin_guide/building_dependency_trees.html">Building Dependency Trees</a></li>
            <li><a class="" href="../../admin_guide/sdn_troubleshooting.html">Troubleshooting Networking</a></li>
            <li><a class="" href="../../admin_guide/revhistory_admin_guide.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup7">
        <span id="tgSpan7" class="fa fa-angle-right"></span>CLI Reference
      </a>
      <ul id="topicGroup7" class="collapse  list-unstyled">
            <li><a class="" href="../../cli_reference/index.html">Overview</a></li>
            <li><a class="" href="../../cli_reference/get_started_cli.html">Get Started with the CLI</a></li>
            <li><a class="" href="../../cli_reference/manage_cli_profiles.html">Managing CLI Profiles</a></li>
            <li><a class="" href="../../cli_reference/basic_cli_operations.html">Developer CLI Operations</a></li>
            <li><a class="" href="../../cli_reference/admin_cli_operations.html">Administrator CLI Operations</a></li>
            <li><a class="" href="../../cli_reference/revhistory_cli_reference.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup8">
        <span id="tgSpan8" class="fa fa-angle-right"></span>Developer Guide
      </a>
      <ul id="topicGroup8" class="collapse  list-unstyled">
            <li><a class="" href="../../dev_guide/index.html">Overview</a></li>
            <li><a class="" href="../../dev_guide/application_lifecycle.html">Application Life Cycle Examples</a></li>
            <li><a class="" href="../../dev_guide/authentication.html">Authentication</a></li>
            <li><a class="" href="../../dev_guide/projects.html">Projects</a></li>
            <li><a class="" href="../../dev_guide/new_app.html">Creating New Applications</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-8-5">
                <span id="sgSpan-8-5" class="fa fa-caret-right"></span>&nbsp;Application Tutorials
              </a>
              <ul id="topicSubGroup-8-5" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../dev_guide/app_tutorials/index.html">Overview</a></li>
                  <li><a class="" href="../../dev_guide/app_tutorials/quickstarts.html">Quickstart Templates</a></li>
                  <li><a class="" href="../../dev_guide/app_tutorials/ruby_on_rails.html">Ruby on Rails</a></li>
              </ul>
            </li>
            <li><a class="" href="../../dev_guide/ssh_environment.html">Opening a Remote Shell to Containers</a></li>
            <li><a class="" href="../../dev_guide/templates.html">Templates</a></li>
            <li><a class="" href="../../dev_guide/service_accounts.html">Service Accounts</a></li>
            <li><a class="" href="../../dev_guide/builds.html">Builds</a></li>
            <li><a class="" href="../../dev_guide/managing_images.html">Managing Images</a></li>
            <li><a class="" href="../../dev_guide/compute_resources.html">Quotas and Limit Ranges</a></li>
            <li><a class="" href="../../dev_guide/deployments.html">Deployments</a></li>
            <li><a class="" href="../../dev_guide/routes.html">Routes</a></li>
            <li><a class="" href="../../dev_guide/integrating_external_services.html">Integrating External Services</a></li>
            <li><a class="" href="../../dev_guide/secrets.html">Secrets</a></li>
            <li><a class="" href="../../dev_guide/configmaps.html">ConfigMaps</a></li>
            <li><a class="" href="../../dev_guide/pod_autoscaling.html">Pod Autoscaling</a></li>
            <li><a class="" href="../../dev_guide/volumes.html">Managing Volumes</a></li>
            <li><a class="" href="../../dev_guide/persistent_volumes.html">Using Persistent Volumes</a></li>
            <li><a class="" href="../../dev_guide/executing_remote_commands.html">Executing Remote Commands</a></li>
            <li><a class="" href="../../dev_guide/copy_files_to_container.html">Copying Files</a></li>
            <li><a class="" href="../../dev_guide/port_forwarding.html">Port Forwarding</a></li>
            <li><a class="" href="../../dev_guide/shared_memory.html">Shared Memory</a></li>
            <li><a class="" href="../../dev_guide/application_health.html">Application Health</a></li>
            <li><a class="" href="../../dev_guide/events.html">Events</a></li>
            <li><a class="" href="../../dev_guide/downward_api.html">Downward API</a></li>
            <li><a class="" href="../../dev_guide/environment_variables.html">Managing Environment Variables</a></li>
            <li><a class="" href="../../dev_guide/jobs.html">Jobs</a></li>
            <li><a class="" href="../../dev_guide/revhistory_dev_guide.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup9">
        <span id="tgSpan9" class="fa fa-angle-right"></span>Creating Images
      </a>
      <ul id="topicGroup9" class="collapse  list-unstyled">
            <li><a class="" href="../../creating_images/index.html">Overview</a></li>
            <li><a class="" href="../../creating_images/guidelines.html">Guidelines</a></li>
            <li><a class="" href="../../creating_images/metadata.html">Image Metadata</a></li>
            <li><a class="" href="../../creating_images/s2i.html">S2I Requirements</a></li>
            <li><a class="" href="../../creating_images/s2i_testing.html">Testing S2I Images</a></li>
            <li><a class="" href="../../creating_images/custom.html">Custom Builder</a></li>
            <li><a class="" href="../../creating_images/revhistory_creating_images.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup10">
        <span id="tgSpan10" class="fa fa-angle-right"></span>Using Images
      </a>
      <ul id="topicGroup10" class="collapse  list-unstyled">
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-0">
                <span id="sgSpan-10-0" class="fa fa-caret-right"></span>&nbsp;Source-to-Image (S2I)
              </a>
              <ul id="topicSubGroup-10-0" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../using_images/s2i_images/index.html">Overview</a></li>
                  <li><a class="" href="../../using_images/s2i_images/nodejs.html">Node.js</a></li>
                  <li><a class="" href="../../using_images/s2i_images/ruby.html">Ruby</a></li>
                  <li><a class="" href="../../using_images/s2i_images/perl.html">Perl</a></li>
                  <li><a class="" href="../../using_images/s2i_images/php.html">PHP</a></li>
                  <li><a class="" href="../../using_images/s2i_images/python.html">Python</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-1">
                <span id="sgSpan-10-1" class="fa fa-caret-right"></span>&nbsp;Database Images
              </a>
              <ul id="topicSubGroup-10-1" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../using_images/db_images/index.html">Overview</a></li>
                  <li><a class="" href="../../using_images/db_images/mysql.html">MySQL</a></li>
                  <li><a class="" href="../../using_images/db_images/postgresql.html">PostgreSQL</a></li>
                  <li><a class="" href="../../using_images/db_images/mongodb.html">MongoDB</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-2">
                <span id="sgSpan-10-2" class="fa fa-caret-right"></span>&nbsp;Docker Images
              </a>
              <ul id="topicSubGroup-10-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../using_images/docker_images/index.html">Overview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-3">
                <span id="sgSpan-10-3" class="fa fa-caret-right"></span>&nbsp;Other Images
              </a>
              <ul id="topicSubGroup-10-3" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../using_images/other_images/index.html">Overview</a></li>
                  <li><a class="" href="../../using_images/other_images/jenkins.html">Jenkins</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-4">
                <span id="sgSpan-10-4" class="fa fa-caret-right"></span>&nbsp;xPaaS Middleware Images
              </a>
              <ul id="topicSubGroup-10-4" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../../using_images/xpaas_images/index.html">Overview</a></li>
              </ul>
            </li>
            <li><a class="" href="../../using_images/revhistory_using_images.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup11">
        <span id="tgSpan11" class="fa fa-angle-right"></span>REST API Reference
      </a>
      <ul id="topicGroup11" class="collapse  list-unstyled">
            <li><a class="" href="../../rest_api/index.html">Overview</a></li>
            <li><a class="" href="../../rest_api/openshift_v1.html">OpenShift v1</a></li>
            <li><a class="" href="../../rest_api/kubernetes_v1.html">Kubernetes v1</a></li>
            <li><a class="" href="../../rest_api/revhistory_rest_api.html">Revision History</a></li>
      </ul>
    </li>
</ul>
      </div>
      <div class="col-xs-12 col-sm-9 col-md-9 main">
        <div class="page-header">
          <h2>Prerequisites</h2>
        </div>
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title"></div>
<ul class="sectlevel1">
<li><a href="#overview">Overview</a></li>
<li><a href="#prerequisites-planning">Planning</a></li>
<li><a href="#system-requirements">System Requirements</a>
<ul class="sectlevel2">
<li><a href="#host-recommendations">Host Recommendations</a></li>
<li><a href="#configuring-core-usage">Configuring Core Usage</a></li>
<li><a href="#security-warning">Security Warning</a></li>
</ul>
</li>
<li><a href="#envirornment-requirements">Environment Requirements</a>
<ul class="sectlevel2">
<li><a href="#prereq-dns">DNS</a></li>
<li><a href="#prereq-network-access">Network Access</a></li>
<li><a href="#prereq-git">Git Access</a></li>
<li><a href="#prereq-persistent-storage">Persistent Storage</a></li>
<li><a href="#prereq-selinux">SELinux</a></li>
<li><a href="#prereq-cloud-provider-considerations">Cloud Provider Considerations</a></li>
</ul>
</li>
<li><a href="#host-preparation">Host Preparation</a>
<ul class="sectlevel2">
<li><a href="#software-prerequisites">Software Prerequisites</a></li>
<li><a href="#configuring-docker-storage">Configuring Docker Storage</a></li>
</ul>
</li>
<li><a href="#ensuring-host-access">Ensuring Host Access</a></li>
<li><a href="#what-s-next">What&#8217;s Next?</a></li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="anchor" href="#overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>OpenShift Enterprise
<a href="../../architecture/infrastructure_components/kubernetes_infrastructure.html#architecture-infrastructure-components-kubernetes-infrastructure">infrastructure
components</a> can be installed across multiple hosts. The following sections
outline the system requirements and instructions for preparing your environment
and hosts before installing OpenShift Enterprise.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prerequisites-planning"><a class="anchor" href="#prerequisites-planning"></a>Planning</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For production environments, several factors that can influence installation
must be considered prior to deployment:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>What is the number of required hosts required to run the cluster?</p>
</li>
<li>
<p>How many pods are required in your cluster?</p>
</li>
<li>
<p>Is <a href="../../admin_guide/high_availability.html#admin-guide-high-availability">high availability</a> required?
High availability is recommended for fault tolerance.</p>
</li>
<li>
<p>Which installation type do you want to use:
<a href="../../install_config/install/rpm_vs_containerized.html#install-config-install-rpm-vs-containerized">RPM or
containerized</a>?</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="system-requirements"><a class="anchor" href="#system-requirements"></a>System Requirements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You must have an active OpenShift Enterprise subscription on your Red Hat
account to proceed. If you do not, contact your sales representative for more
information.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>OpenShift Enterprise 3.2 requires Docker 1.9.1, and supports Docker 1.10 as of
<a href="../../release_notes/ose_3_2_release_notes.html#ose-3-2-1-1">OpenShift Enterprise
3.2.1</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The system requirements vary per host type:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 87.5%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../../architecture/infrastructure_components/kubernetes_infrastructure.html#master">Masters</a></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>Physical or virtual system, or an instance running on a public or private IaaS.</p>
</li>
<li>
<p>Base OS: RHEL 7.1 or later with "Minimal" installation option, or RHEL Atomic
Host 7.2.4 or later.</p>
</li>
<li>
<p>2 vCPU.</p>
</li>
<li>
<p>Minimum 8 GB RAM.</p>
</li>
<li>
<p>Minimum 30 GB hard disk space for the file system containing <strong><em>/var/</em></strong>.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../../architecture/infrastructure_components/kubernetes_infrastructure.html#node">Nodes</a></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>Physical or virtual system, or an instance running on a public or private IaaS.</p>
</li>
<li>
<p>Base OS: RHEL 7.1 or later with "Minimal" installation option, or RHEL Atomic
Host 7.2.4 or later.</p>
</li>
<li>
<p>NetworkManager 1.0 or later</p>
</li>
<li>
<p>1 vCPU.</p>
</li>
<li>
<p>Minimum 8 GB RAM.</p>
</li>
<li>
<p>Minimum 15 GB hard disk space for the file system containing <strong><em>/var/</em></strong>.</p>
</li>
<li>
<p>An additional minimum 15 GB unallocated space to be used for Docker&#8217;s storage
back end; see <a href="#configuring-docker-storage">Configuring Docker Storage</a>
below.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>OpenShift Enterprise only supports servers with x86_64 architecture.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Meeting the <strong><em>/var/</em></strong> file system sizing requirements in RHEL Atomic Host
requires making changes to the default configuration. See
<a href="https://access.redhat.com/documentation/en/red-hat-enterprise-linux-atomic-host/version-7/getting-started-with-containers/#managing_storage_in_red_hat_enterprise_linux_atomic_host">Managing
Storage in Red Hat Enterprise Linux Atomic Host</a> for instructions on configuring
this during or after installation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="host-recommendations"><a class="anchor" href="#host-recommendations"></a>Host Recommendations</h3>
<div class="paragraph">
<p>The following apply to production environments. Test or sample environments will
function with the minimum requirements.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Master Hosts</dt>
<dd>
<p>In a highly-available OpenShift Enterprise cluster with external etcd, a master host
should have 1 CPU core and 2.5 GB of memory, on top of the defaults in the table
above, for each 1000 pods. Therefore, the recommended size of master host in an
OpenShift Enterprise cluster of 2000 pods would be 2 CPU cores and 5 GB of RAM, as
well as the minimum requirements for a master host of 2 CPU cores and 8 GB of
RAM.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>When planning an environment with multiple masters, a minimum of three etcd
hosts as well as a load-balancer between the master hosts, is required.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Node Hosts</dt>
<dd>
<p>The size of a node host depends on the expected size of its workload. As an
OpenShift Enterprise cluster administrator, you will need to calculate the expected
workload, then add about 10% for overhead. For production environments, allocate
enough resources so that node host failure does not affect your maximum
capacity.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Use the above with the following table to plan the maximum loads for nodes and
pods:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 66.6666%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Host</th>
<th class="tableblock halign-left valign-top">Sizing Recommendation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum nodes per cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">300</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum pods per nodes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">110</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Oversubscribing the physical resources on a node affects resource guarantees the
Kubernetes scheduler makes during pod placement. Learn what measures you can
take to <a href="../../admin_guide/overcommit.html#disabling-swap-memory">avoid memory swapping</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="configuring-core-usage"><a class="anchor" href="#configuring-core-usage"></a>Configuring Core Usage</h3>
<div class="paragraph">
<p>By default, OpenShift Enterprise masters and nodes use all available cores in the
system they run on. You can choose the number of cores you want OpenShift Enterprise
to use by setting the <a href="https://golang.org/pkg/runtime/"><code><strong>GOMAXPROCS</strong></code> environment
variable</a>.</p>
</div>
<div class="paragraph">
<p>For example, run the following before starting the server to make
OpenShift Enterprise only run on one core:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="nowrap"># export GOMAXPROCS=1</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="security-warning"><a class="anchor" href="#security-warning"></a>Security Warning</h3>
<div class="paragraph">
<p>OpenShift Enterprise runs
<a href="../../architecture/core_concepts/containers_and_images.html#containers">Docker
containers</a> on your hosts, and in some cases, such as build operations and the
registry service, it does so using privileged containers. Furthermore, those
containers access your host&#8217;s Docker daemon and perform <code>docker build</code> and
<code>docker push</code> operations. As such, you should be aware of the inherent security
risks associated with performing <code>docker run</code> operations on arbitrary images as
they effectively have root access.</p>
</div>
<div class="paragraph">
<p>For more information, see these articles:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://opensource.com/business/14/7/docker-security-selinux" class="bare">http://opensource.com/business/14/7/docker-security-selinux</a></p>
</li>
<li>
<p><a href="https://docs.docker.com/articles/security/" class="bare">https://docs.docker.com/articles/security/</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To address these risks, OpenShift Enterprise uses
<a href="../../architecture/additional_concepts/authorization.html#security-context-constraints">security
context constraints</a> that control the actions that pods can perform and what it
has the ability to access.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="envirornment-requirements"><a class="anchor" href="#envirornment-requirements"></a>Environment Requirements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following must be set up in your environment before OpenShift Enterprise can be
installed.</p>
</div>
<div class="sect2">
<h3 id="prereq-dns"><a class="anchor" href="#prereq-dns"></a>DNS</h3>
<div class="paragraph">
<p>A fully functional DNS environment is a requirement for OpenShift Enterprise to work
correctly. Adding entries into the <strong><em>/etc/hosts</em></strong> file is not enough, because
that file is not copied into containers running on the platform.</p>
</div>
<div class="paragraph">
<p>To configure the OpenShift Enterprise DNS environment:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../../install_config/install/prerequisites.html#dns-config-prereq">Complete DNS configuration</a></p>
</li>
<li>
<p>(Optionally) <a href="../../install_config/install/prerequisites.html#wildcard-dns-prereq">configure a wildcard for the router</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Key components of OpenShift Enterprise run themselves inside of containers. By
default, these containers receive their <strong><em>/etc/resolv.conf</em></strong> DNS configuration
file from their host. OpenShift Enterprise then inserts one DNS value into the pods
(above the node&#8217;s nameserver values). That value is defined in the
<strong><em>/etc/origin/node/node-config.yaml</em></strong> file by the <code><strong>dnsIP</strong></code> parameter, which by
default is set to the address of the host node because the host is using
<strong>dnsmasq</strong>. If the <code><strong>dnsIP</strong></code> parameter is omitted from the <strong><em>node-config.yaml</em></strong>
file, then the value defaults to the kubernetes service IP, which is the first
nameserver in the pod&#8217;s <strong><em>/etc/resolv.conf</em></strong> file.</p>
</div>
<div class="paragraph">
<p>As of OpenShift Enterprise 3.2, <strong>dnsmasq</strong> is automatically configured on all masters
and nodes. The pods use the nodes as their DNS, and the nodes forward the
requests. By default, <strong>dnsmasq</strong> is configured on the nodes to listen on port 53,
therefore the nodes cannot run any other type of DNS application.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Previously, in OpenShift Enterprise 3.1, a DNS server could not be installed on a
master node, because it ran its own internal DNS server. Now, with master nodes
using <strong>dnsmasq</strong>, SkyDNS is now configured to listen on port 8053 so that
<strong>dnsmasq</strong> can run on the masters.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>NetworkManager</strong> is required on the nodes in order to populate <strong>dnsmasq</strong> with
the DNS IP addresses.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you do not have a properly functioning DNS environment, you could experience failure with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Product installation via the reference Ansible-based scripts</p>
</li>
<li>
<p>Deployment of the infrastructure containers (registry, routers)</p>
</li>
<li>
<p>Access to the OpenShift Enterprise web console, because it is not accessible via IP address alone</p>
</li>
</ul>
</div>
<div id="dns-config-prereq" class="paragraph">
<p><strong>Configuring a DNS Environment</strong></p>
</div>
<div class="paragraph">
<p>To properly configure your DNS environment for OpenShift Enterprise:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Check the contents of <strong><em>/etc/resolv.conf</em></strong>:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ cat /etc/resolv.conf
# Generated by NetworkManager
search ose3.example.com
nameserver 10.64.33.1
# nameserver updated by /etc/NetworkManager/dispatcher.d/99-origin-dns.sh</pre>
</div>
</div>
</li>
<li>
<p>Ensure that the DNS servers listed in <strong><em>/etc/resolv.conf</em></strong> are able to resolve to the addresses of all the masters and nodes in your OpenShift Enterprise environment:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ dig &lt;node_hostname&gt; @&lt;IP_address&gt; +short</pre>
</div>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ dig node1.ose3.example.com @10.64.33.1 +short
10.64.33.156
$ dig master.ose3.example.com @10.64.33.1 +short
10.64.33.37</pre>
</div>
</div>
</li>
<li>
<p>If DHCP is:</p>
<div class="ulist">
<ul>
<li>
<p>Disabled, then configure your network interface to be static, and add DNS nameservers to NetworkManager.</p>
</li>
<li>
<p>Enabled, then the NetworkManager dispatch script automatically configures DNS based on the DHCP configuration. Optionally, you can add a value to <code><strong>dnsIP</strong></code> in the <strong><em>node-config.yaml</em></strong> file to prepend the pod&#8217;s <strong><em>resolv.conf</em></strong> file. The second nameserver is then defined by the host&#8217;s first nameserver. By default, this will be the IP address of the node host.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For most configurations, do not set the <code><strong>openshift_dns_ip</strong></code> option during the
advanced installation of OpenShift Enterprise (using Ansible), because this option
overrides the default IP address set by <code><strong>dnsIP</strong></code>.</p>
</div>
<div class="paragraph">
<p>Instead, allow the installer to configure each node to use <strong>dnsmasq</strong> and forward
requests to SkyDNS or the external DNS provider. If you do set the
<code><strong>openshift_dns_ip</strong></code> option, then it should be set either with a DNS IP that
queries SkyDNS first, or to the SkyDNS service or endpoint IP (the Kubernetes
service IP).</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div id="wildcard-dns-prereq" class="paragraph">
<p><strong>Configuring Wildcard DNS</strong></p>
</div>
<div class="paragraph">
<p>Optionally, configure a wildcard for the router to use, so that you do not need
to update your DNS configuration when new routes are added.</p>
</div>
<div class="paragraph">
<p>A wildcard for a DNS zone must ultimately resolve to the IP address of the
OpenShift Enterprise <a href="../../architecture/core_concepts/routes.html#routers">router</a>.</p>
</div>
<div class="paragraph">
<p>For example, create a wildcard DNS entry for <strong>cloudapps</strong> that has a low
time-to-live value (TTL) and points to the public IP address of the host where
the router will be deployed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">*.cloudapps.example.com. 300 IN  A 192.168.133.2</pre>
</div>
</div>
<div class="paragraph">
<p>In almost all cases, when referencing VMs you must use host names, and the host
names that you use must match the output of the <code>hostname -f</code> command on each
node.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In your <strong><em>/etc/resolv.conf</em></strong> file on each node host, ensure that the DNS server
that has the wildcard entry is not listed as a nameserver or that the wildcard
domain is not listed in the search list. Otherwise, containers managed by
OpenShift Enterprise may fail to resolve host names properly.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="run-dns-diagnostics" class="paragraph">
<p><strong>Running Diagnostics</strong></p>
</div>
<div class="paragraph">
<p>To explore your DNS setup and run specific DNS queries, you can use the <code>host</code> and <code>dig</code> commands (part of the <code>bind-utils</code> package). For example, you can query a specific DNS server, or check if recursion is involved.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ host `hostname`
ose3-master.example.com has address 172.16.25.41

$ dig ose3-node1.example.com  +short
172.16.25.45</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="prereq-network-access"><a class="anchor" href="#prereq-network-access"></a>Network Access</h3>
<div class="paragraph">
<p>A shared network must exist between the master and node hosts. If you plan to
configure
<a href="../../architecture/infrastructure_components/kubernetes_infrastructure.html#high-availability-masters">multiple
masters for high-availability</a> using the <a href="advanced_install.html#install-config-install-advanced-install">advanced
installation method</a>, you must also select an IP to be configured as your
<a href="../../architecture/infrastructure_components/kubernetes_infrastructure.html#master-components">virtual
IP</a> (VIP) during the installation process. The IP that you select must be
routable between all of your nodes, and if you configure using a FQDN it should
resolve on all nodes.</p>
</div>
<div id="prereq-networkmanager" class="paragraph">
<p><strong>NetworkManager</strong></p>
</div>
<div class="paragraph">
<p>NetworkManager, a program for providing detection and configuration for systems
to automatically connect to the network, is required.</p>
</div>
<div id="required-ports" class="paragraph">
<p><strong>Required Ports</strong></p>
</div>
<div class="paragraph">
<p>OpenShift Enterprise infrastructure components communicate with each other using
ports, which are communication endpoints that are identifiable for specific
processes or services. Ensure the following ports required by OpenShift Enterprise
are open between hosts, for example if you have a firewall in your environment.
Some ports are optional depending on your configuration and usage.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Node to Node</caption>
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 9.0909%;">
<col style="width: 72.7273%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>4789</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for SDN communication between pods on separate hosts.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. Nodes to Master</caption>
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 9.0909%;">
<col style="width: 72.7273%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>53</strong> or <strong>8053</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP/UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for DNS resolution of cluster services (SkyDNS).
Installations prior to 3.2 or environments upgraded to 3.2 use port 53.
New installations will use 8053 by default so that <strong>dnsmasq</strong> may be configured.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>4789</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for SDN communication between pods on separate hosts.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>443</strong> or <strong>8443</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for node hosts to communicate to the master API, for the node hosts to
post back status, to receive tasks, and so on.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 3. Master to Node</caption>
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 9.0909%;">
<col style="width: 72.7273%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>4789</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for SDN communication between pods on separate hosts.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>10250</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The master proxies to node hosts via the Kubelet for <code>oc</code> commands.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In the following table,
<strong>(L)</strong> indicates the marked port is also used in <em>loopback mode</em>,
enabling the master to communicate with itself.</p>
</div>
<div class="paragraph">
<p>In a single-master cluster:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ports marked with <strong>(L)</strong> must be open.</p>
</li>
<li>
<p>Ports not marked with <strong>(L)</strong> need not be open.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In a multiple-master cluster, all the listed ports must be open.</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 4. Master to Master</caption>
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 9.0909%;">
<col style="width: 72.7273%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>53 (L)</strong> or <strong>8053</strong> (L)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP/UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for DNS resolution of cluster services (SkyDNS).
Installations prior to 3.2 or environments upgraded to 3.2 use port 53.
New installations will use 8053 by default so that <strong>dnsmasq</strong> may be configured.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>2049</strong> (L)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP/UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required when provisioning an NFS host as part of the installer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>2379</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used for standalone etcd (clustered) to accept changes in state.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>2380</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">etcd requires this port be open between masters for leader election and peering
connections when using standalone etcd (clustered).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>4001 (L)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used for embedded etcd (non-clustered) to accept changes in state.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>4789 (L)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for SDN communication between pods on separate hosts.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 5. External to Load Balancer</caption>
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 9.0909%;">
<col style="width: 72.7273%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>9000</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If you choose the <code><strong>native</strong></code> HA method, optional to allow access to the HAProxy statistics page.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 6. External to Master</caption>
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 9.0909%;">
<col style="width: 72.7273%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>443</strong> or <strong>8443</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for node hosts to communicate to the master API, for node hosts to
post back status, to receive tasks, and so on.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 7. IaaS Deployments</caption>
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 9.0909%;">
<col style="width: 72.7273%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>22</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for SSH by the installer or system administrator.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>53</strong> or <strong>8053</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP/UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for DNS resolution of cluster services (SkyDNS).
Installations prior to 3.2 or environments upgraded to 3.2 use port 53.
New installations will use 8053 by default so that <strong>dnsmasq</strong> may be configured.
Only required to be internally open on master hosts.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>80</strong> or <strong>443</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For HTTP/HTTPS use for the router. Required to be externally open on node hosts, especially on nodes running the router.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>1936</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For router statistics use. Required to be open when running the template
router to access statistics, and can be open externally or internally to
connections depending on if you want the statistics to be expressed publicly.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>4001</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For embedded etcd (non-clustered) use. Only required to be internally open on
the master host. <strong>4001</strong> is for server-client connections.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>2379</strong> and <strong>2380</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For standalone etcd use. Only required to be internally open on the master host.
<strong>2379</strong> is for server-client connections. <strong>2380</strong> is for server-server
connections, and is only required if you have clustered etcd.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>4789</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For VxLAN use (OpenShift Enterprise SDN). Required only internally on node hosts.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>8443</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For use by the OpenShift Enterprise web console, shared with the API server.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>10250</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For use by the Kubelet. Required to be externally open on nodes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>24224</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP/UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For use by Fluentd. Required to be open on master hosts for internal
connections to node hosts.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Notes</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>In the above examples, port <strong>4789</strong> is used for User Datagram Protocol (UDP).</p>
</li>
<li>
<p>When deployments are using the SDN, the pod network is accessed via a service proxy, unless it is accessing the registry from the same node the registry is deployed on.</p>
</li>
<li>
<p>OpenShift Enterprise internal DNS cannot be received over SDN. Depending on the detected values of <code><strong>openshift_facts</strong></code>, or if the <code><strong>openshift_ip</strong></code> and <code><strong>openshift_public_ip</strong></code> values are overridden, it will be the computed value of <code><strong>openshift_ip</strong></code>. For non-cloud deployments, this will default to the IP address associated with the default route on the master host. For cloud deployments, it will default to the IP address associated with the first internal interface as defined by the cloud metadata.</p>
</li>
<li>
<p>The master host uses port <strong>10250</strong> to reach the nodes and does not go over SDN. It depends on the target host of the deployment and uses the computed values of <code><strong>openshift_hostname</strong></code> and <code><strong>openshift_public_hostname</strong></code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="prereq-git"><a class="anchor" href="#prereq-git"></a>Git Access</h3>
<div class="paragraph">
<p>You must have either Internet access and a GitHub account, or read and write
access to an internal, HTTP-based Git server.</p>
</div>
</div>
<div class="sect2">
<h3 id="prereq-persistent-storage"><a class="anchor" href="#prereq-persistent-storage"></a>Persistent Storage</h3>
<div class="paragraph">
<p>The Kubernetes
<a href="../../architecture/additional_concepts/storage.html#architecture-additional-concepts-storage">persistent volume</a>
framework allows you to provision an OpenShift Enterprise cluster with persistent storage
using networked storage available in your environment. This can be done after
completing the initial OpenShift Enterprise installation depending on your application
needs, giving users a way to request those resources without having any
knowledge of the underlying infrastructure.</p>
</div>
<div class="paragraph">
<p>The <a href="../../install_config/index.html#install-config-index">Installation and Configuration Guide</a>
provides instructions for cluster administrators on provisioning an OpenShift Enterprise
cluster with persistent storage using
<a href="../../install_config/persistent_storage/persistent_storage_nfs.html#install-config-persistent-storage-persistent-storage-nfs">NFS</a>,
<a href="../../install_config/persistent_storage/persistent_storage_glusterfs.html#install-config-persistent-storage-persistent-storage-glusterfs">GlusterFS</a>,
<a href="../../install_config/persistent_storage/persistent_storage_ceph_rbd.html#install-config-persistent-storage-persistent-storage-ceph-rbd">Ceph
RBD</a>,
<a href="../../install_config/persistent_storage/persistent_storage_cinder.html#install-config-persistent-storage-persistent-storage-cinder">OpenStack
Cinder</a>,
<a href="../../install_config/persistent_storage/persistent_storage_aws.html#install-config-persistent-storage-persistent-storage-aws">AWS Elastic Block Store (EBS)</a>,
<a href="../../install_config/persistent_storage/persistent_storage_gce.html#install-config-persistent-storage-persistent-storage-gce">GCE
Persistent Disks</a>, and
<a href="../../install_config/persistent_storage/persistent_storage_iscsi.html#install-config-persistent-storage-persistent-storage-iscsi">iSCSI</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="prereq-selinux"><a class="anchor" href="#prereq-selinux"></a>SELinux</h3>
<div class="paragraph">
<p>Security-Enhanced Linux (SELinux) must be enabled on all of the servers before
installing OpenShift Enterprise or the installer will fail. Also, configure
<code><strong>SELINUXTYPE=targeted</strong></code> in the <strong><em>/etc/selinux/config</em></strong> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># This file controls the state of SELinux on the system.
# SELINUX= can take one of these three values:
#     enforcing - SELinux security policy is enforced.
#     permissive - SELinux prints warnings instead of enforcing.
#     disabled - No SELinux policy is loaded.
SELINUX=enforcing
# SELINUXTYPE= can take one of these three values:
#     targeted - Targeted processes are protected,
#     minimum - Modification of targeted policy. Only selected processes are protected.
#     mls - Multi Level Security protection.
SELINUXTYPE=targeted</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="prereq-cloud-provider-considerations"><a class="anchor" href="#prereq-cloud-provider-considerations"></a>Cloud Provider Considerations</h3>
<div class="paragraph">
<p><strong>Set up the Security Group</strong></p>
</div>
<div class="paragraph">
<p>When installing on AWS or OpenStack, ensure that you set up the appropriate
security groups. These are some ports that you should have in your security
groups, without which the installation will fail. You may need more depending on
the cluster configuration you want to install. For more information and to
adjust your security groups accordingly, see <a href="#required-ports">Required Ports</a>
for more information.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>All OpenShift Enterprise Hosts</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>tcp/22 from host running the installer/Ansible</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>etcd Security Group</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>tcp/2379 from masters</p>
</li>
<li>
<p>tcp/2380 from etcd hosts</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Master Security Group</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>tcp/8443 from 0.0.0.0/0</p>
</li>
<li>
<p>tcp/53 from all OpenShift Enterprise hosts for environments installed prior to or upgraded to 3.2</p>
</li>
<li>
<p>udp/53 from all OpenShift Enterprise hosts for environments installed prior to or upgraded to 3.2</p>
</li>
<li>
<p>tcp/8053 from all OpenShift Enterprise hosts for new environments installed with 3.2</p>
</li>
<li>
<p>udp/8053 from all OpenShift Enterprise hosts for new environments installed with 3.2</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Node Security Group</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>tcp/10250 from masters</p>
</li>
<li>
<p>tcp/4789 from nodes</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Infrastructure Nodes</strong>
(ones that can host the OpenShift Enterprise router)</p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>tcp/443 from 0.0.0.0/0</p>
</li>
<li>
<p>tcp/80 from 0.0.0.0/0</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If configuring ELBs for load balancing the masters and/or routers, you also need
to configure Ingress and Egress security groups for the ELBs appropriately.</p>
</div>
<div class="paragraph">
<p><strong>Override Detected IP Addresses and Host Names</strong></p>
</div>
<div class="paragraph">
<p>Some deployments require that the user override the detected host names and IP
addresses for the hosts. To see the default values, run the <code><strong>openshift_facts</strong></code>
playbook:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="nowrap"># ansible-playbook playbooks/byo/openshift_facts.yml</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Now, verify the detected common settings. If they are not what you expect them
to be, you can override them.</p>
</div>
<div class="paragraph">
<p>The
<a href="../../install_config/install/advanced_install.html#configuring-ansible">Advanced
Installation</a> topic discusses the available Ansible variables in greater detail.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Variable</th>
<th class="tableblock halign-left valign-top">Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>hostname</strong></code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>Should resolve to the internal IP from the instances themselves.</p>
</li>
<li>
<p><code><strong>openshift_hostname</strong></code> overrides.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>ip</strong></code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>Should be the internal IP of the instance.</p>
</li>
<li>
<p><code><strong>openshift_ip</strong></code> will overrides.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>public_hostname</strong></code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>Should resolve to the external IP from hosts outside of the cloud.</p>
</li>
<li>
<p>Provider <code><strong>openshift_public_hostname</strong></code> overrides.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>public_ip</strong></code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>Should be the externally accessible IP associated with the instance.</p>
</li>
<li>
<p><code><strong>openshift_public_ip</strong></code> overrides.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>use_openshift_sdn</strong></code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>Should be true unless the cloud is GCE.</p>
</li>
<li>
<p><code><strong>openshift_use_openshift_sdn</strong></code> overrides.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If <code><strong>openshift_hostname</strong></code> is set to a value other than the metadata-provided
<code><strong>private-dns-name</strong></code> value, the native cloud integration for those providers
will no longer work.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In AWS, situations that require overriding the variables include:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Variable</th>
<th class="tableblock halign-left valign-top">Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>hostname</strong></code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The user is installing in a VPC that is not configured for both <code><strong>DNS hostnames</strong></code> and <code><strong>DNS resolution</strong></code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>ip</strong></code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Possibly if they have multiple network interfaces configured and they want to
use one other than the default. You must first set
<code><strong>openshift_node_set_node_ip</strong></code> to <code>True</code>. Otherwise, the SDN would attempt to
use the <code><strong>hostname</strong></code> setting or try to resolve the host name for the IP.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>public_hostname</strong></code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>A master instance where the VPC subnet is not configured for <code><strong>Auto-assign
Public IP</strong></code>. For external access to this master, you need to have an ELB or
other load balancer configured that would provide the external access needed, or
you need to connect over a VPN connection to the internal name of the host.</p>
</li>
<li>
<p>A master instance where metadata is disabled.</p>
</li>
<li>
<p>This value is not actually used by the nodes.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>public_ip</strong></code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>A master instance where the VPC subnet is not configured for <code><strong>Auto-assign Public IP</strong></code>.</p>
</li>
<li>
<p>A master instance where metadata is disabled.</p>
</li>
<li>
<p>This value is not actually used by the nodes.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If setting <code><strong>openshift_hostname</strong></code> to something other than the metadata-provided
<code><strong>private-dns-name</strong></code> value, the native cloud integration for those providers
will no longer work.</p>
</div>
<div class="paragraph">
<p>For EC2 hosts in particular, they must be deployed in a VPC that has both
<code><strong>DNS host names</strong></code> and <code><strong>DNS resolution</strong></code> enabled, and <code><strong>openshift_hostname</strong></code>
should not be overridden.</p>
</div>
<div class="paragraph">
<p><strong>Post-Installation Configuration for Cloud Providers</strong></p>
</div>
<div class="paragraph">
<p>Following the installation process, you can configure OpenShift Enterprise for
<a href="../../install_config/configuring_aws.html#install-config-configuring-aws">AWS</a>,
<a href="../../install_config/configuring_openstack.html#install-config-configuring-openstack">OpenStack</a>, or
<a href="../../install_config/configuring_gce.html#install-config-configuring-gce">GCE</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="host-preparation"><a class="anchor" href="#host-preparation"></a>Host Preparation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before installing OpenShift Enterprise, you must first prepare each host per the following.</p>
</div>
<div class="sect2">
<h3 id="software-prerequisites"><a class="anchor" href="#software-prerequisites"></a>Software Prerequisites</h3>
<div class="paragraph">
<p><strong>Installing an Operating System</strong></p>
</div>
<div class="paragraph">
<p>A base installation of RHEL 7.1 or later or RHEL Atomic Host 7.2.4 or later is
required for master and node hosts. See the following documentation for the
respective installation instructions, if required:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Installation_Guide/index.html">Red
Hat Enterprise Linux 7 Installation Guide</a></p>
</li>
<li>
<p><a href="https://access.redhat.com/documentation/en/red-hat-enterprise-linux-atomic-host/version-7/installation-and-configuration-guide/">Red
Hat Enterprise Linux Atomic Host 7 Installation and Configuration Guide</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Registering the Hosts</strong></p>
</div>
<div class="paragraph">
<p>Each host must be registered using Red Hat Subscription Manager (RHSM) and have
an active OpenShift Enterprise subscription attached to access the required
packages.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>On each host, register with RHSM:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># subscription-manager register --username=&lt;user_name&gt; --password=&lt;password&gt;</pre>
</div>
</div>
</li>
<li>
<p>List the available subscriptions:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># subscription-manager list --available</pre>
</div>
</div>
</li>
<li>
<p>In the output for the previous command, find the pool ID for an OpenShift Enterprise subscription and attach it:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># subscription-manager attach --pool=&lt;pool_id&gt;</pre>
</div>
</div>
</li>
<li>
<p>Disable all repositories and enable only the required ones:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># subscription-manager repos --disable="*"
# subscription-manager repos \
    --enable="rhel-7-server-rpms" \
    --enable="rhel-7-server-extras-rpms" \
    --enable="rhel-7-server-ose-3.2-rpms"</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Managing Packages</strong></p>
</div>
<div class="paragraph">
<p>For RHEL 7 systems:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install the following base packages:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># yum install wget git net-tools bind-utils iptables-services bridge-utils bash-completion</pre>
</div>
</div>
</li>
<li>
<p>Update the system to the latest packages:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># yum update</pre>
</div>
</div>
</li>
<li>
<p>Install the following package, which provides OpenShift Enterprise utilities and pulls in
other tools required by the
<a href="../../install_config/install/quick_install.html#install-config-install-quick-install">quick</a> and
<a href="../../install_config/install/advanced_install.html#install-config-install-advanced-install">advanced installation</a>
methods, such as Ansible and related configuration files:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># yum install atomic-openshift-utils</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>For RHEL Atomic Host 7 systems:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure the host is up to date by upgrading to the latest Atomic tree if one is
available:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># atomic host upgrade</pre>
</div>
</div>
</li>
<li>
<p>After the upgrade is completed and prepared for the next boot, reboot the
host:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># systemctl reboot</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="installing-docker" class="paragraph">
<p><strong>Installing Docker</strong></p>
</div>
<div class="paragraph">
<p>At this point, you should install Docker on all master and node hosts. This
allows you to configure your <a href="#configuring-docker-storage">Docker storage
options</a> before installing OpenShift Enterprise.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>For RHEL 7 systems, install Docker 1.10:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># yum install docker-1.10.3</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>On RHEL Atomic Host 7 systems, Docker should already be installed, configured,
and running by default.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Edit the <strong><em>/etc/sysconfig/docker</em></strong> file and add <code>--insecure-registry
172.30.0.0/16</code> to the <code><strong>OPTIONS</strong></code> parameter. For example:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">OPTIONS='--selinux-enabled --insecure-registry 172.30.0.0/16'</pre>
</div>
</div>
<div class="paragraph">
<p>If using the
<a href="../install_config/install/quick_install.html#install-config-install-quick-install">Quick
Installation</a> method, you can easily script a complete installation from a
kickstart or cloud-init setup, change the default configuration file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># sed -i '/OPTIONS=.*/c\OPTIONS="--selinux-enabled --insecure-registry 172.30.0.0/16"' \
/etc/sysconfig/docker</pre>
</div>
</div>
<div id="NOTE" class="exampleblock">
<div class="content">
<div class="paragraph">
<p>The
<a href="../install_config/install/advanced_install.html#install-config-install-advanced-install">Advanced
Installation</a> method automatically changes <strong><em>/etc/sysconfig/docker</em></strong>.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>The <code>--insecure-registry</code> option instructs the Docker daemon to trust any Docker
registry on the indicated subnet, rather than
<a href="docker_registry.html#securing-the-registry">requiring a certificate</a>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>172.30.0.0/16 is the default value of the <code><strong>servicesSubnet</strong></code> variable in the
<strong><em>master-config.yaml</em></strong> file. If this has changed, then the <code>--insecure-registry</code>
value in the above step should be adjusted to match, as it is indicating the
subnet for the registry to use. Note that the <code><strong>openshift_master_portal_net</strong></code>
variable can be set in the Ansible inventory file and used during the
<a href="advanced_install.html#configuring-ansible">advanced installation</a>
method to modify the <code><strong>servicesSubnet</strong></code> variable.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>After the initial OpenShift Enterprise installation is complete, you can choose to
<a href="docker_registry.html#securing-the-registry">secure the integrated Docker
registry</a>, which involves adjusting the <code>--insecure-registry</code> option
accordingly.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="configuring-docker-storage"><a class="anchor" href="#configuring-docker-storage"></a>Configuring Docker Storage</h3>
<div class="paragraph">
<p>Docker containers and the images they are created from are stored in Docker&#8217;s
storage back end. This storage is ephemeral and separate from any
<a href="../../dev_guide/persistent_volumes.html#dev-guide-persistent-volumes">persistent storage</a> allocated to
meet the needs of your applications.</p>
</div>
<div class="paragraph">
<p><strong>For RHEL Atomic Host</strong></p>
</div>
<div class="paragraph">
<p>The default storage back end for Docker on RHEL Atomic Host is a thin pool
logical volume, which is supported for production environments. You must ensure
that enough space is allocated for this volume per the Docker storage
requirements mentioned in
<a href="../../install_config/install/prerequisites.html#system-requirements">System
Requirements</a>.</p>
</div>
<div class="paragraph">
<p>If you do not have enough allocated, see
<a href="https://access.redhat.com/documentation/en/red-hat-enterprise-linux-atomic-host/version-7/getting-started-with-containers/#managing_storage_with_docker_formatted_containers">Managing
Storage with Docker Formatted Containers</a> for details on using
<strong>docker-storage-setup</strong> and basic instructions on storage management in RHEL
Atomic Host.</p>
</div>
<div class="paragraph">
<p><strong>For RHEL</strong></p>
</div>
<div class="paragraph">
<p>The default storage back end for Docker on RHEL 7 is a thin pool on loopback
devices, which is not supported for production use and only appropriate for
proof of concept environments. For production environments, you must create a
thin pool logical volume and re-configure Docker to use that volume.</p>
</div>
<div class="paragraph">
<p>You can use the <strong>docker-storage-setup</strong> script included with Docker to create a
thin pool device and configure Docker&#8217;s storage driver. This can be done after
installing Docker and should be done before creating images or containers. The
script reads configuration options from the
<strong><em>/etc/sysconfig/docker-storage-setup</em></strong> file and supports three options for
creating the logical volume:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Option A)</strong> Use an additional block device.</p>
</li>
<li>
<p><strong>Option B)</strong> Use an existing, specified volume group.</p>
</li>
<li>
<p><strong>Option C)</strong> Use the remaining free space from the volume group where your root
file system is located.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Option A is the most robust option, however it requires adding an additional
block device to your host before configuring Docker storage. Options B and C
both require leaving free space available when provisioning your host.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create the <strong>docker-pool</strong> volume using one of the following three options:</p>
<div class="ulist">
<ul>
<li>
<p><a id="docker-storage-a"></a><strong>Option A) Use an additional block device.</strong></p>
<div class="paragraph">
<p>In <strong><em>/etc/sysconfig/docker-storage-setup</em></strong>, set <strong>DEVS</strong> to the path of the block
device you wish to use. Set <strong>VG</strong> to the volume group name you wish to create;
<strong>docker-vg</strong> is a reasonable choice. For example:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="nowrap"># cat &lt;&lt;EOF &gt; /etc/sysconfig/docker-storage-setup
DEVS=/dev/vdc
VG=docker-vg
EOF</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Then run <strong>docker-storage-setup</strong> and review the output to ensure the
<strong>docker-pool</strong> volume was created:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="nowrap"># docker-storage-setup                                                                                                                                                                                                                                [5/1868]
0
Checking that no-one is using this disk right now ...
OK

Disk /dev/vdc: 31207 cylinders, 16 heads, 63 sectors/track
sfdisk:  /dev/vdc: unrecognized partition table type

Old situation:
sfdisk: No partitions found

New situation:
Units: sectors of 512 bytes, counting from 0

   Device Boot    Start       End   #sectors  Id  System
/dev/vdc1          2048  31457279   31455232  8e  Linux LVM
/dev/vdc2             0         -          0   0  Empty
/dev/vdc3             0         -          0   0  Empty
/dev/vdc4             0         -          0   0  Empty
Warning: partition 1 does not start at a cylinder boundary
Warning: partition 1 does not end at a cylinder boundary
Warning: no primary partition is marked bootable (active)
This does not matter for LILO, but the DOS MBR will not boot this disk.
Successfully wrote the new partition table

Re-reading the partition table ...

If you created or changed a DOS partition, /dev/foo7, say, then use dd(1)
to zero the first 512 bytes:  dd if=/dev/zero of=/dev/foo7 bs=512 count=1
(See fdisk(8).)
  Physical volume "/dev/vdc1" successfully created
  Volume group "docker-vg" successfully created
  Rounding up size to full physical extent 16.00 MiB
  Logical volume "docker-poolmeta" created.
  Logical volume "docker-pool" created.
  WARNING: Converting logical volume docker-vg/docker-pool and docker-vg/docker-poolmeta to pool's data and metadata volumes.
  THIS WILL DESTROY CONTENT OF LOGICAL VOLUME (filesystem etc.)
  Converted docker-vg/docker-pool to thin pool.
  Logical volume "docker-pool" changed.</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p><a id="docker-storage-b"></a><strong>Option B) Use an existing, specified volume group.</strong></p>
<div class="paragraph">
<p>In <strong><em>/etc/sysconfig/docker-storage-setup</em></strong>, set <strong>VG</strong> to the desired volume
group. For example:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="nowrap"># cat &lt;&lt;EOF &gt; /etc/sysconfig/docker-storage-setup
VG=docker-vg
EOF</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Then run <strong>docker-storage-setup</strong> and review the output to ensure the
<strong>docker-pool</strong> volume was created:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="nowrap"># docker-storage-setup
  Rounding up size to full physical extent 16.00 MiB
  Logical volume "docker-poolmeta" created.
  Logical volume "docker-pool" created.
  WARNING: Converting logical volume docker-vg/docker-pool and docker-vg/docker-poolmeta to pool's data and metadata volumes.
  THIS WILL DESTROY CONTENT OF LOGICAL VOLUME (filesystem etc.)
  Converted docker-vg/docker-pool to thin pool.
  Logical volume "docker-pool" changed.</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p><a id="docker-storage-c"></a><strong>Option C) Use the remaining free space from the volume
group where your root file system is located.</strong></p>
<div class="paragraph">
<p>Verify that the volume group where your root file system resides has the desired
free space, then run <strong>docker-storage-setup</strong> and review the output to ensure the
<strong>docker-pool</strong> volume was created:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="nowrap"># docker-storage-setup
  Rounding up size to full physical extent 32.00 MiB
  Logical volume "docker-poolmeta" created.
  Logical volume "docker-pool" created.
  WARNING: Converting logical volume rhel/docker-pool and rhel/docker-poolmeta to pool's data and metadata volumes.
  THIS WILL DESTROY CONTENT OF LOGICAL VOLUME (filesystem etc.)
  Converted rhel/docker-pool to thin pool.
  Logical volume "docker-pool" changed.</pre>
</div>
</div>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Verify your configuration. You should have a <strong>dm.thinpooldev</strong> value in the
<strong><em>/etc/sysconfig/docker-storage</em></strong> file and a <strong>docker-pool</strong> logical volume:</p>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="nowrap"># cat /etc/sysconfig/docker-storage
DOCKER_STORAGE_OPTIONS=--storage-opt dm.fs=xfs --storage-opt
dm.thinpooldev=/dev/mapper/docker--vg-docker--pool

# lvs
  LV          VG   Attr       LSize  Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  docker-pool rhel twi-a-t---  9.29g             0.00   0.12</pre>
</div>
</div>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Before using Docker or OpenShift Enterprise, verify that the <strong>docker-pool</strong> logical volume
is large enough to meet your needs. The <strong>docker-pool</strong> volume should be 60% of
the available volume group and will grow to fill the volume group via LVM
monitoring.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Check if Docker is running:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># systemctl is-active docker</pre>
</div>
</div>
</li>
<li>
<p>If Docker has not yet been started on the host, enable and start the service:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># systemctl enable docker
# systemctl start docker</pre>
</div>
</div>
<div class="paragraph">
<p>If Docker is already running, re-initialize Docker:</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This will destroy any Docker containers or images currently on the host.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># systemctl stop docker
# rm -rf /var/lib/docker/*
# systemctl restart docker</pre>
</div>
</div>
<div class="paragraph">
<p>If there is any content in <strong><em>/var/lib/docker/</em></strong>, it must be deleted. Files
will be present if Docker has been used prior to the installation of OpenShift Enterprise.</p>
</div>
</li>
</ol>
</div>
<div id="reconfiguring-docker-storage" class="paragraph">
<p><strong>Reconfiguring Docker Storage</strong></p>
</div>
<div class="paragraph">
<p>Should you need to reconfigure Docker storage after having created the
<strong>docker-pool</strong>, you should first remove the <strong>docker-pool</strong> logical volume. If you
are using a dedicated volume group, you should also remove the volume group and
any associated physical volumes before reconfiguring <strong>docker-storage-setup</strong>
according to the instructions above.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Logical_Volume_Manager_Administration/index.html">Logical
Volume Manager Administration</a> for more detailed information on LVM management.</p>
</div>
<div id="managing-docker-container-logs" class="paragraph">
<p><strong>Managing Docker Container Logs</strong></p>
</div>
<div class="paragraph">
<p>Sometimes a container&#8217;s log file (the
<strong><em>/var/lib/docker/containers/&lt;hash&gt;/&lt;hash&gt;-json.log</em></strong> file on the node where the
container is running) can increase to a problematic size. You can manage this by
configuring Docker&#8217;s <code>json-file</code> logging driver to restrict the size and number
of log files.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--log-opt max-size</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the size at which a new log file is created.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--log-opt max-file</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the file on each host to configure the options.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For example, to set the maximum file size to 1MB and always keep the last three
log files, edit the <strong><em>/etc/sysconfig/docker</em></strong> file to configure <code>max-size=1M</code>
and <code>max-file=3</code>:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="nowrap">OPTIONS='--insecure-registry=172.30.0.0/16 --selinux-enabled --log-opt max-size=1M --log-opt max-file=3'</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Next, restart the Docker service:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># systemctl restart docker</pre>
</div>
</div>
<div id="viewing-available-container-logs" class="paragraph">
<p><strong>Viewing Available Container Logs</strong></p>
</div>
<div class="paragraph">
<p>Container logs are stored in the <strong><em>/var/lib/docker/containers/&lt;hash&gt;/</em></strong>
directory on the node where the container is running. For example:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="nowrap"># ls -lh /var/lib/docker/containers/f088349cceac173305d3e2c2e4790051799efe363842fdab5732f51f5b001fd8/
total 2.6M
-rw-r--r--. 1 root root 5.6K Nov 24 00:12 config.json
-rw-r--r--. 1 root root 649K Nov 24 00:15 f088349cceac173305d3e2c2e4790051799efe363842fdab5732f51f5b001fd8-json.log
-rw-r--r--. 1 root root 977K Nov 24 00:15 f088349cceac173305d3e2c2e4790051799efe363842fdab5732f51f5b001fd8-json.log.1
-rw-r--r--. 1 root root 977K Nov 24 00:15 f088349cceac173305d3e2c2e4790051799efe363842fdab5732f51f5b001fd8-json.log.2
-rw-r--r--. 1 root root 1.3K Nov 24 00:12 hostconfig.json
drwx------. 2 root root    6 Nov 24 00:12 secrets</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>See Docker&#8217;s documentation for additional information on how to
<a href="http://docs.docker.com/engine/reference/logging/overview/#the-json-file-options">Configure
Logging Drivers</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ensuring-host-access"><a class="anchor" href="#ensuring-host-access"></a>Ensuring Host Access</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="quick_install.html#install-config-install-quick-install">quick</a> and <a href="advanced_install.html#install-config-install-advanced-install">advanced
installation</a> methods require
a user that has access to all hosts. If you want to run the installer as a
non-root user, passwordless <strong>sudo</strong> rights must be configured on each destination
host.</p>
</div>
<div class="paragraph">
<p>For example, you can generate an SSH key on the host where you will invoke the
installation process:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># ssh-keygen</pre>
</div>
</div>
<div class="paragraph">
<p>Do <strong>not</strong> use a password.</p>
</div>
<div class="paragraph">
<p>An easy way to distribute your SSH keys is by using a <code>bash</code> loop:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># for host in master.example.com \
    node1.example.com \
    node2.example.com; \
    do ssh-copy-id -i ~/.ssh/id_rsa.pub $host; \
    done</pre>
</div>
</div>
<div class="paragraph">
<p>Modify the host names in the above command according to your configuration.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what-s-next"><a class="anchor" href="#what-s-next"></a>What&#8217;s Next?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you are interested in installing OpenShift Enterprise using the containerized method
(optional for RHEL but required for RHEL Atomic Host), see
<a href="../../install_config/install/rpm_vs_containerized.html#install-config-install-rpm-vs-containerized">RPM vs
Containerized</a> to ensure that you understand the differences between these
methods.</p>
</div>
<div class="paragraph">
<p>When you are ready to proceed, you can install OpenShift Enterprise using the
<a href="quick_install.html#install-config-install-quick-install">quick installation</a> or
<a href="advanced_install.html#install-config-install-advanced-install">advanced installation</a> method.</p>
</div>
</div>
</div>
      </div>
    </div>
  </div>
  <script type="text/javascript">
    /*<![CDATA[*/
    $(document).ready(function() {
      $("[id^='topicGroup']").on('show.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicGroup']").on('hide.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicSubGroup']").on('show.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
      $("[id^='topicSubGroup']").on('hide.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
    });
    /*]]>*/
  </script>
    <footer class="footer-openshift">
  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-sm-4 col-md-3 logo">
        <a href="https://www.redhat.com/"></a>
      </div>
      <div class="col-xs-12 col-sm-4 col-md-6 text-center">
        <div class="row">
          <div class="col-xs-12 col-md-4">
            <a href="https://www.openshift.com/legal/privacy.html">
              Privacy Policy
            </a>
          </div>
          <div class="col-xs-12 col-md-4">
          <a href="https://www.openshift.com/legal/terms.html">
            Terms and Conditions
          </a>
          </div>
          <div class="col-xs-12 col-md-4">
          <a href="http://www.openshift.org/">
            Open Source
          </a>
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-4 col-md-3 text-right">
        <a id="built_with_asciibinder" href="http://asciibinder.org/">
          <img src="../../../scollier-test/_images/asciibinder_web_logo.svg" alt="AsciiBinder" />
        </a>
      </div>
    </div>
  </div>
</footer>
</body>
</html>