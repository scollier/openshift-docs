<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8"> <![endif]-->
<!--[if IE 9]> <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
<html>
<!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>OpenShift Origin Branch Build | OpenShift on AWS | Operational Management</title>
  <link href="https://assets.openshift.net/content/subdomain.css" rel="stylesheet" type="text/css">
  <link href="../../scollier-test/_stylesheets/docs.css" rel="stylesheet" />
  <link href="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" rel="apple-touch-icon-precomposed" type="image/png">
  <link href="https://assets.openshift.net/content/subdomain/favicon32x32.png" rel="shortcut icon" type="text/css">
  <!--[if IE]><link rel="shortcut icon" href="https://assets.openshift.net/content/subdomain/favicon.ico"><![endif]-->
  <!-- or, set /favicon.ico for IE10 win -->
  <meta content="OpenShift" name="application-name">
  <meta content="#000000" name="msapplication-TileColor">
  <meta content="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" name="msapplication-TileImage">
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://assets.openshift.net/content/html5shiv.js" type="text/javascript"></script>
    <script src="https://assets.openshift.net/content/respond.js" type="text/javascript"></script>
    <link href="https://assets.openshift.net/content/vendor/respond-js/respond-proxy.html" id="respond-proxy" rel="respond-proxy">
    <link href="../../scollier-test/_images/respond.proxy.gif" id="respond-redirect" rel="respond-redirect">
    <script src="../../scollier-test/_javascripts/respond.proxy.js" type="text/javascript"></script>
  <![endif]-->
  <script src="https://assets.openshift.net/content/modernizr.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/subdomain.js" type="text/javascript"></script>
  <script src="../../scollier-test/_javascripts/bootstrap-offcanvas.js" type="text/javascript"></script>
  <script async src="//www.google-analytics.com/analytics.js" type="text/javascript"></script>
<script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-40375612-1', 'openshift.org');
  ga('set', 'forceSSL', true);
  ga('send', 'pageview');
</script>
</head>
<body>
  <div class="navbar navbar-default navbar-openshift navbar-origin" role="navigation">
  <div class="navbar-header">
    <a class="navbar-brand origin" href="/"></a>
  </div>
</div>
  <div class="container">
    <p class="toggle-nav visible-xs pull-left">
      <button class="btn btn-default btn-sm" type="button" data-toggle="offcanvas">Toggle nav</button>
    </p>
    <ol class="breadcrumb">
      <li class="sitename">
        <a href="../../index.html">Documentation</a>
      </li>
      <li class="hidden-xs active">
        <a href="../welcome/index.html">OpenShift Origin Branch Build</a>
      </li>
      <li class="hidden-xs active">
        <a href="../scollier-aws/appendix.html">OpenShift on AWS</a>
      </li>
      
      <li class="hidden-xs active">
        Operational Management
      </li>
    </ol>
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-8 col-sm-3 col-md-3 sidebar sidebar-offcanvas">
        <div class="row-fluid">
          <script>
  (function() {
    var cx = '013769182564158614814:vdyz7waqya4';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
        </div>
        <ul class="nav nav-sidebar">
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup0">
        <span id="tgSpan0" class="fa fa-angle-right"></span>About
      </a>
      <ul id="topicGroup0" class="collapse  list-unstyled">
            <li><a class="" href="../welcome/index.html">Welcome</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup1">
        <span id="tgSpan1" class="fa fa-angle-right"></span>What's New?
      </a>
      <ul id="topicGroup1" class="collapse  list-unstyled">
            <li><a class="" href="../whats_new/index.html">Overview</a></li>
            <li><a class="" href="../whats_new/applications.html">Applications</a></li>
            <li><a class="" href="../whats_new/carts_vs_images.html">Cartridges vs Images</a></li>
            <li><a class="" href="../whats_new/terminology.html">Terminology</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup2">
        <span id="tgSpan2" class="fa fa-angle-right"></span>Getting Started
      </a>
      <ul id="topicGroup2" class="collapse  list-unstyled">
            <li><a class="" href="../getting_started/index.html">Overview</a></li>
            <li><a class="" href="../getting_started/developers_console.html">Web Console Walkthrough</a></li>
            <li><a class="" href="../getting_started/administrators.html">Setting Up a Cluster</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup3">
        <span id="tgSpan3" class="fa fa-angle-right"></span>Architecture
      </a>
      <ul id="topicGroup3" class="collapse  list-unstyled">
            <li><a class="" href="../architecture/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-1">
                <span id="sgSpan-3-1" class="fa fa-caret-right"></span>&nbsp;Infrastructure Components
              </a>
              <ul id="topicSubGroup-3-1" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../architecture/infrastructure_components/kubernetes_infrastructure.html">Kubernetes Infrastructure</a></li>
                  <li><a class="" href="../architecture/infrastructure_components/image_registry.html">Image Registry</a></li>
                  <li><a class="" href="../architecture/infrastructure_components/web_console.html">Web Console</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-2">
                <span id="sgSpan-3-2" class="fa fa-caret-right"></span>&nbsp;Core Concepts
              </a>
              <ul id="topicSubGroup-3-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../architecture/core_concepts/index.html">Overview</a></li>
                  <li><a class="" href="../architecture/core_concepts/containers_and_images.html">Containers and Images</a></li>
                  <li><a class="" href="../architecture/core_concepts/pods_and_services.html">Pods and Services</a></li>
                  <li><a class="" href="../architecture/core_concepts/projects_and_users.html">Projects and Users</a></li>
                  <li><a class="" href="../architecture/core_concepts/builds_and_image_streams.html">Builds and Image Streams</a></li>
                  <li><a class="" href="../architecture/core_concepts/deployments.html">Deployments</a></li>
                  <li><a class="" href="../architecture/core_concepts/routes.html">Routes</a></li>
                  <li><a class="" href="../architecture/core_concepts/templates.html">Templates</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-3">
                <span id="sgSpan-3-3" class="fa fa-caret-right"></span>&nbsp;Additional Concepts
              </a>
              <ul id="topicSubGroup-3-3" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../architecture/additional_concepts/networking.html">Networking</a></li>
                  <li><a class="" href="../architecture/additional_concepts/sdn.html">OpenShift SDN</a></li>
                  <li><a class="" href="../architecture/additional_concepts/authentication.html">Authentication</a></li>
                  <li><a class="" href="../architecture/additional_concepts/authorization.html">Authorization</a></li>
                  <li><a class="" href="../architecture/additional_concepts/storage.html">Persistent Storage</a></li>
                  <li><a class="" href="../architecture/additional_concepts/remote_commands.html">Remote Commands</a></li>
                  <li><a class="" href="../architecture/additional_concepts/port_forwarding.html">Port Forwarding</a></li>
                  <li><a class="" href="../architecture/additional_concepts/throttling.html">Throttling</a></li>
                  <li><a class="" href="../architecture/additional_concepts/scm.html">Source Control Management</a></li>
                  <li><a class="" href="../architecture/additional_concepts/admission_controllers.html">Admission Controllers</a></li>
                  <li><a class="" href="../architecture/additional_concepts/other_api_objects.html">Other API Objects</a></li>
              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup4">
        <span id="tgSpan4" class="fa fa-angle-right"></span>Installation and Configuration
      </a>
      <ul id="topicGroup4" class="collapse  list-unstyled">
            <li><a class="" href="../install_config/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-1">
                <span id="sgSpan-4-1" class="fa fa-caret-right"></span>&nbsp;Installing
              </a>
              <ul id="topicSubGroup-4-1" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/install/index.html">Overview</a></li>
                  <li><a class="" href="../install_config/install/prerequisites.html">Prerequisites</a></li>
                  <li><a class="" href="../install_config/install/rpm_vs_containerized.html">RPM vs Containerized</a></li>
                  <li><a class="" href="../install_config/install/quick_install.html">Quick Installation</a></li>
                  <li><a class="" href="../install_config/install/advanced_install.html">Advanced Installation</a></li>
                  <li><a class="" href="../install_config/install/docker_registry.html">Deploying a Docker Registry</a></li>
                  <li><a class="" href="../install_config/install/deploy_router.html">Deploying a Router</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-2">
                <span id="sgSpan-4-2" class="fa fa-caret-right"></span>&nbsp;Upgrading
              </a>
              <ul id="topicSubGroup-4-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/upgrading/index.html">Overview</a></li>
                  <li><a class="" href="../install_config/upgrading/automated_upgrades.html">Automated Upgrades</a></li>
                  <li><a class="" href="../install_config/upgrading/manual_upgrades.html">Manual Upgrades</a></li>
              </ul>
            </li>
            <li><a class="" href="../install_config/master_node_configuration.html">Master and Node Configuration</a></li>
            <li><a class="" href="../install_config/imagestreams_templates.html">Loading the Default Image Streams and Templates</a></li>
            <li><a class="" href="../install_config/certificate_customization.html">Configuring Custom Certificates</a></li>
            <li><a class="" href="../install_config/configuring_authentication.html">Configuring Authentication and User Agent</a></li>
            <li><a class="" href="../install_config/syncing_groups_with_ldap.html">Syncing Groups With LDAP</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-8">
                <span id="sgSpan-4-8" class="fa fa-caret-right"></span>&nbsp;Advanced LDAP Configuration
              </a>
              <ul id="topicSubGroup-4-8" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/advanced_ldap_configuration/index.html">Overview</a></li>
                  <li><a class="" href="../install_config/advanced_ldap_configuration/sssd_for_ldap_failover.html">Setting up SSSD for LDAP Failover</a></li>
                  <li><a class="" href="../install_config/advanced_ldap_configuration/configuring_form_based_authentication.html">Configuring Form-Based Authentication</a></li>
                  <li><a class="" href="../install_config/advanced_ldap_configuration/configuring_extended_ldap_attributes.html">Configuring Extended LDAP Attributes</a></li>
              </ul>
            </li>
            <li><a class="" href="../install_config/configuring_sdn.html">Configuring the SDN</a></li>
            <li><a class="" href="../install_config/configuring_aws.html">Configuring for AWS</a></li>
            <li><a class="" href="../install_config/configuring_openstack.html">Configuring for OpenStack</a></li>
            <li><a class="" href="../install_config/configuring_gce.html">Configuring for GCE</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-13">
                <span id="sgSpan-4-13" class="fa fa-caret-right"></span>&nbsp;Configuring Persistent Storage
              </a>
              <ul id="topicSubGroup-4-13" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/persistent_storage/index.html">Overview</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_nfs.html">Using NFS</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_glusterfs.html">Using GlusterFS</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_cinder.html">Using OpenStack Cinder</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_ceph_rbd.html">Using Ceph RBD</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_aws.html">Using AWS Elastic Block Store</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_gce.html">Using GCE Persistent Disk</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_iscsi.html">Using iSCSI</a></li>
                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_fibre_channel.html">Using Fibre Channel</a></li>
                  <li><a class="" href="../install_config/persistent_storage/dynamically_provisioning_pvs.html">Dynamic Provisioning</a></li>
                  <li><a class="" href="../install_config/persistent_storage/pod_security_context.html">Volume Security</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-14">
                <span id="sgSpan-4-14" class="fa fa-caret-right"></span>&nbsp;Persistent Storage Examples
              </a>
              <ul id="topicSubGroup-4-14" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../install_config/storage_examples/index.html">Overview</a></li>
                  <li><a class="" href="../install_config/storage_examples/shared_storage.html">Sharing an NFS PV Across Two Pods</a></li>
                  <li><a class="" href="../install_config/storage_examples/ceph_example.html">Complete Example Using Ceph RBD</a></li>
                  <li><a class="" href="../install_config/storage_examples/gluster_example.html">Complete Example Using GlusterFS</a></li>
                  <li><a class="" href="../install_config/storage_examples/privileged_pod_storage.html">Mounting Volumes To Privileged Pods</a></li>
                  <li><a class="" href="../install_config/storage_examples/gluster_backed_registry.html">Backing Docker Registry with GlusterFS Storage</a></li>
              </ul>
            </li>
            <li><a class="" href="../install_config/http_proxies.html">Working with HTTP Proxies</a></li>
            <li><a class="" href="../install_config/build_defaults_overrides.html">Configuring Global Build Defaults and Overrides</a></li>
            <li><a class="" href="../install_config/configuring_pipeline_execution.html">Configuring Build Pipeline Execution</a></li>
            <li><a class="" href="../install_config/native_container_routing.html">Native Container Routing</a></li>
            <li><a class="" href="../install_config/routing_from_edge_lb.html">Routing from Edge Load Balancers</a></li>
            <li><a class="" href="../install_config/aggregate_logging.html">Aggregating Container Logs</a></li>
            <li><a class="" href="../install_config/cluster_metrics.html">Enabling Cluster Metrics</a></li>
            <li><a class="" href="../install_config/web_console_customization.html">Customizing the Web Console</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup5">
        <span id="tgSpan5" class="fa fa-angle-right"></span>Cluster Administration
      </a>
      <ul id="topicGroup5" class="collapse  list-unstyled">
            <li><a class="" href="../admin_guide/index.html">Overview</a></li>
            <li><a class="" href="../admin_guide/manage_nodes.html">Managing Nodes</a></li>
            <li><a class="" href="../admin_guide/manage_users.html">Managing Users</a></li>
            <li><a class="" href="../admin_guide/managing_projects.html">Managing Projects</a></li>
            <li><a class="" href="../admin_guide/service_accounts.html">Configuring Service Accounts</a></li>
            <li><a class="" href="../admin_guide/manage_authorization_policy.html">Managing Authorization Policies</a></li>
            <li><a class="" href="../admin_guide/scoped_tokens.html">Scoped Tokens</a></li>
            <li><a class="" href="../admin_guide/manage_scc.html">Managing Security Context Constraints</a></li>
            <li><a class="" href="../admin_guide/quota.html">Setting Quotas</a></li>
            <li><a class="" href="../admin_guide/limits.html">Setting Limit Ranges</a></li>
            <li><a class="" href="../admin_guide/pruning_resources.html">Pruning Objects</a></li>
            <li><a class="" href="../admin_guide/garbage_collection.html">Garbage Collection</a></li>
            <li><a class="" href="../admin_guide/scheduler.html">Scheduler</a></li>
            <li><a class="" href="../admin_guide/allocating_node_resources.html">Allocating Node Resources</a></li>
            <li><a class="" href="../admin_guide/overcommit.html">Overcommitting</a></li>
            <li><a class="" href="../admin_guide/limit_runonce_pod_duration.html">Limit Run-once Pod Duration</a></li>
            <li><a class="" href="../admin_guide/router.html">Monitoring Routers</a></li>
            <li><a class="" href="../admin_guide/high_availability.html">High Availability</a></li>
            <li><a class="" href="../admin_guide/pod_network.html">Managing Pod Networks</a></li>
            <li><a class="" href="../admin_guide/iptables.html">IPtables</a></li>
            <li><a class="" href="../admin_guide/securing_builds.html">Securing Builds by Strategy</a></li>
            <li><a class="" href="../admin_guide/building_dependency_trees.html">Building Dependency Trees</a></li>
            <li><a class="" href="../admin_guide/sdn_troubleshooting.html">Troubleshooting Networking</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup6">
        <span id="tgSpan6" class="fa fa-angle-right"></span>CLI Reference
      </a>
      <ul id="topicGroup6" class="collapse  list-unstyled">
            <li><a class="" href="../cli_reference/index.html">Overview</a></li>
            <li><a class="" href="../cli_reference/get_started_cli.html">Get Started with the CLI</a></li>
            <li><a class="" href="../cli_reference/manage_cli_profiles.html">Managing CLI Profiles</a></li>
            <li><a class="" href="../cli_reference/basic_cli_operations.html">Developer CLI Operations</a></li>
            <li><a class="" href="../cli_reference/admin_cli_operations.html">Administrator CLI Operations</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup7">
        <span id="tgSpan7" class="fa fa-angle-right"></span>Developer Guide
      </a>
      <ul id="topicGroup7" class="collapse  list-unstyled">
            <li><a class="" href="../dev_guide/index.html">Overview</a></li>
            <li><a class="" href="../dev_guide/application_lifecycle.html">Application Life Cycle Examples</a></li>
            <li><a class="" href="../dev_guide/authentication.html">Authentication</a></li>
            <li><a class="" href="../dev_guide/projects.html">Projects</a></li>
            <li><a class="" href="../dev_guide/new_app.html">Creating New Applications</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-7-5">
                <span id="sgSpan-7-5" class="fa fa-caret-right"></span>&nbsp;Application Tutorials
              </a>
              <ul id="topicSubGroup-7-5" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../dev_guide/app_tutorials/index.html">Overview</a></li>
                  <li><a class="" href="../dev_guide/app_tutorials/quickstarts.html">Quickstart Templates</a></li>
                  <li><a class="" href="../dev_guide/app_tutorials/ruby_on_rails.html">Ruby on Rails</a></li>
              </ul>
            </li>
            <li><a class="" href="../dev_guide/ssh_environment.html">Opening a Remote Shell to Containers</a></li>
            <li><a class="" href="../dev_guide/templates.html">Templates</a></li>
            <li><a class="" href="../dev_guide/service_accounts.html">Service Accounts</a></li>
            <li><a class="" href="../dev_guide/builds.html">Builds</a></li>
            <li><a class="" href="../dev_guide/managing_images.html">Managing Images</a></li>
            <li><a class="" href="../dev_guide/compute_resources.html">Quotas and Limit Ranges</a></li>
            <li><a class="" href="../dev_guide/deployments.html">Deployments</a></li>
            <li><a class="" href="../dev_guide/routes.html">Routes</a></li>
            <li><a class="" href="../dev_guide/integrating_external_services.html">Integrating External Services</a></li>
            <li><a class="" href="../dev_guide/secrets.html">Secrets</a></li>
            <li><a class="" href="../dev_guide/configmaps.html">ConfigMaps</a></li>
            <li><a class="" href="../dev_guide/pod_autoscaling.html">Pod Autoscaling</a></li>
            <li><a class="" href="../dev_guide/volumes.html">Managing Volumes</a></li>
            <li><a class="" href="../dev_guide/persistent_volumes.html">Using Persistent Volumes</a></li>
            <li><a class="" href="../dev_guide/executing_remote_commands.html">Executing Remote Commands</a></li>
            <li><a class="" href="../dev_guide/copy_files_to_container.html">Copying Files</a></li>
            <li><a class="" href="../dev_guide/port_forwarding.html">Port Forwarding</a></li>
            <li><a class="" href="../dev_guide/shared_memory.html">Shared Memory</a></li>
            <li><a class="" href="../dev_guide/application_health.html">Application Health</a></li>
            <li><a class="" href="../dev_guide/events.html">Events</a></li>
            <li><a class="" href="../dev_guide/downward_api.html">Downward API</a></li>
            <li><a class="" href="../dev_guide/environment_variables.html">Managing Environment Variables</a></li>
            <li><a class="" href="../dev_guide/jobs.html">Jobs</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup8">
        <span id="tgSpan8" class="fa fa-angle-right"></span>Creating Images
      </a>
      <ul id="topicGroup8" class="collapse  list-unstyled">
            <li><a class="" href="../creating_images/index.html">Overview</a></li>
            <li><a class="" href="../creating_images/guidelines.html">Guidelines</a></li>
            <li><a class="" href="../creating_images/metadata.html">Image Metadata</a></li>
            <li><a class="" href="../creating_images/s2i.html">S2I Requirements</a></li>
            <li><a class="" href="../creating_images/s2i_testing.html">Testing S2I Images</a></li>
            <li><a class="" href="../creating_images/custom.html">Custom Builder</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup9">
        <span id="tgSpan9" class="fa fa-angle-right"></span>Using Images
      </a>
      <ul id="topicGroup9" class="collapse  list-unstyled">
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-9-0">
                <span id="sgSpan-9-0" class="fa fa-caret-right"></span>&nbsp;Source-to-Image (S2I)
              </a>
              <ul id="topicSubGroup-9-0" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../using_images/s2i_images/index.html">Overview</a></li>
                  <li><a class="" href="../using_images/s2i_images/nodejs.html">Node.js</a></li>
                  <li><a class="" href="../using_images/s2i_images/ruby.html">Ruby</a></li>
                  <li><a class="" href="../using_images/s2i_images/perl.html">Perl</a></li>
                  <li><a class="" href="../using_images/s2i_images/php.html">PHP</a></li>
                  <li><a class="" href="../using_images/s2i_images/python.html">Python</a></li>
                  <li><a class="" href="../using_images/s2i_images/java.html">Java</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-9-1">
                <span id="sgSpan-9-1" class="fa fa-caret-right"></span>&nbsp;Database Images
              </a>
              <ul id="topicSubGroup-9-1" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../using_images/db_images/index.html">Overview</a></li>
                  <li><a class="" href="../using_images/db_images/mysql.html">MySQL</a></li>
                  <li><a class="" href="../using_images/db_images/postgresql.html">PostgreSQL</a></li>
                  <li><a class="" href="../using_images/db_images/mongodb.html">MongoDB</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-9-2">
                <span id="sgSpan-9-2" class="fa fa-caret-right"></span>&nbsp;Docker Images
              </a>
              <ul id="topicSubGroup-9-2" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../using_images/docker_images/index.html">Overview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-9-3">
                <span id="sgSpan-9-3" class="fa fa-caret-right"></span>&nbsp;Other Images
              </a>
              <ul id="topicSubGroup-9-3" class="nav-tertiary list-unstyled collapse">
                  <li><a class="" href="../using_images/other_images/index.html">Overview</a></li>
                  <li><a class="" href="../using_images/other_images/jenkins.html">Jenkins</a></li>
              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup10">
        <span id="tgSpan10" class="fa fa-angle-right"></span>REST API Reference
      </a>
      <ul id="topicGroup10" class="collapse  list-unstyled">
            <li><a class="" href="../rest_api/index.html">Overview</a></li>
            <li><a class="" href="../rest_api/openshift_v1.html">OpenShift v1</a></li>
            <li><a class="" href="../rest_api/kubernetes_v1.html">Kubernetes v1</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup11">
        <span id="tgSpan11" class="fa fa-angle-down"></span>OpenShift on AWS
      </a>
      <ul id="topicGroup11" class="collapse in list-unstyled">
            <li><a class="" href="../scollier-aws/appendix.html">Appendix</a></li>
            <li><a class="" href="../scollier-aws/ch1_execsummary.html">Executive Summary</a></li>
            <li><a class="" href="../scollier-aws/ch2_ami.html">AMI Configuration</a></li>
            <li><a class="" href="../scollier-aws/ch2_bastion.html">Bastion Host</a></li>
            <li><a class="" href="../scollier-aws/ch2_components-and-configuration.html">Components and Configuration</a></li>
            <li><a class="" href="../scollier-aws/ch2_dynamic_inventory.html">Dynami Inventory</a></li>
            <li><a class="" href="../scollier-aws/ch2_google-oauth.html">Google Authentication</a></li>
            <li><a class="" href="../scollier-aws/ch2_iam.html">IAM Configuration</a></li>
            <li><a class="" href="../scollier-aws/ch2_load_balancers.html">Load Balancers</a></li>
            <li><a class="" href="../scollier-aws/ch2_nat-gateway.html">NAT Gateway Configuration</a></li>
            <li><a class="" href="../scollier-aws/ch2_nodes.html">Node Configuration</a></li>
            <li><a class="" href="../scollier-aws/ch2_registry.html">Registry Conifguration</a></li>
            <li><a class="" href="../scollier-aws/ch2_route53.html">Route53 DNS Configuration</a></li>
            <li><a class="" href="../scollier-aws/ch2_router.html">Router Configuration</a></li>
            <li><a class="" href="../scollier-aws/ch2_s3.html">S3 Storage Configuration</a></li>
            <li><a class="" href="../scollier-aws/ch2_security-groups.html">Security Groups</a></li>
            <li><a class="" href="../scollier-aws/ch2_ssh.html">SSH Configuration</a></li>
            <li><a class="" href="../scollier-aws/ch2_vpc.html">VPC Configuration</a></li>
            <li><a class="" href="../scollier-aws/ch3_deploying-with-ansible.html">Deploy with Ansible</a></li>
            <li><a class="" href="../scollier-aws/ch3_deploying-with-bash.html">Deploy with Bash</a></li>
            <li><a class="" href="../scollier-aws/ch3_provision-infrastructure.html">Provision the Infrastructure</a></li>
            <li><a class="" href="../scollier-aws/ch4_deploying-ose.html">Deploy OpenShift Container Platform</a></li>
            <li><a class="" href="../scollier-aws/ch5_post-deployment-actions.html">Post Deployment Activities</a></li>
            <li><a class=" active" href="../scollier-aws/ch6_operational-mgmt.html">Operational Management</a></li>
            <li><a class="" href="../scollier-aws/ch7_conclusion.html">Conclustion</a></li>
            <li><a class="" href="../scollier-aws/commentsfeedback.html">Feedback</a></li>
      </ul>
    </li>
</ul>
      </div>
      <div class="col-xs-12 col-sm-9 col-md-9 main">
        <div class="page-header">
          <h2>Operational Management</h2>
        </div>
        <div class="sect1">
<h2 id="refarch_details"><a class="anchor" href="#refarch_details"></a>Operational Management</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With the successful deployment of OpenShift, the following section demonstrates how to confirm proper functionality of the Red Hat OpenShift Container Platform.</p>
</div>
<div class="sect2">
<h3 id="running-diagnostics"><a class="anchor" href="#running-diagnostics"></a>Running Diagnostics</h3>
<div class="paragraph">
<p>To run diagnostics, <code>ssh</code> into the bastion host and then from there <code>ssh</code> into master00. The contents of your .pem file will need to be available on the bastion host so that you can <code>ssh</code> into the master00 host. Once <code>ssh</code> connectivity to the master00 host is good, <code>sudo -i</code> to the root user.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>ssh -i scollier-test.pem ec2-user@scollier-bastion.scollier-aws.sysdeseng.com</strong>
$ <strong>sudo -i</strong>
# <strong>ssh -i scollier-test.pem ec2-user@ip-10-30-1-251.ec2.internal</strong>
$ <strong>sudo -i</strong></pre>
</div>
</div>
<div class="paragraph">
<p>At this point connectivity to the master00 host as the root user should have been established. Run the diagnostics that are included as part of the install.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>oadm diagnostics</strong>
[Note] Determining if client configuration exists for client/cluster diagnostics
Info:  Successfully read a client config file at '/root/.kube/config'
Info:  Using context for cluster-admin access: 'validate12/scollier-openshift-master-scollier-aws-sysdeseng-com:8443/system:admin'
[Note] Performing systemd discovery

[Note] Running diagnostic: ConfigContexts[validate12/scollier-openshift-master-scollier-aws-sysdeseng-com:8443/system:admin]
       Description: Validate client config context is complete and has connectivity

Info:  The current client config context is 'validate12/scollier-openshift-master-scollier-aws-sysdeseng-com:8443/system:admin':
       The server URL is 'https://scollier-openshift-master.scollier-aws.sysdeseng.com:8443'
       The user authentication is 'system:admin/scollier-openshift-master-scollier-aws-sysdeseng-com:8443'
       The current project is 'validate12'
       Successfully requested project list; has access to project(s):
         [validate2 validate validate12 default management-infra openshift openshift-infra rcook]

[Note] Running diagnostic: DiagnosticPod
       Description: Create a pod to run diagnostics from the application standpoint

... output abbreviated ...

[Note] Running diagnostic: NodeConfigCheck
       Description: Check the node config file

Info:  Found a node config file: /etc/origin/node/node-config.yaml

[Note] Running diagnostic: UnitStatus
       Description: Check status for related systemd units

[Note] Summary of diagnostics execution (version v3.2.1.7):
[Note] Warnings seen: 6
[Note] Errors seen: 1</pre>
</div>
</div>
<div class="paragraph">
<p>Based on the results of the diagnostics, actions can be taken to alleviate any issues.</p>
</div>
</div>
<div class="sect2">
<h3 id="checking-the-health-of-etcd"><a class="anchor" href="#checking-the-health-of-etcd"></a>Checking the health of etcd</h3>
<div class="paragraph">
<p>This section focuses on the etcd cluster. It describes the different commands to ensure the cluster is healthy. The internal DNS names of the nodes running <code>etcd</code> must be used.</p>
</div>
<div class="paragraph">
<p>Issue the <code>etcdctl</code> command to confirm that the cluster is healthy.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>etcdctl -C https://ip-10-30-1-251.ec2.internal:2379,https://ip-10-30-2-157.ec2.internal:2379,https://ip-10-30-3-74.ec2.internal:2379 --ca-file /etc/etcd/ca.crt --cert-file=/etc/origin/master/master.etcd-client.crt --key-file=/etc/origin/master/master.etcd-client.key cluster-health</strong>
member 82c895b7b0de4330 is healthy: got healthy result from https://10.30.1.251:2379
member c8e7ac98bb93fe8c is healthy: got healthy result from https://10.30.3.74:2379
member f7bbfc4285f239ba is healthy: got healthy result from https://10.30.2.157:2379</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In this configuration the <code>etcd</code> services are distributed among the OpenShift master nodes. An alternative configuration would be to distribute the <code>etcd</code> service amongst its own nodes. An example /etc/ansible/hosts file showing that configuration can be found in Appendix D. The etcd cluster requires three additional nodes. The only change in the file is the hostnames in the [etcd] stanza.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="console-access"><a class="anchor" href="#console-access"></a>Console Access</h3>
<div class="paragraph">
<p>This section will cover logging into the OpenShift Container Platform via the GUI and the CLI. After logging in via one of these methods applications can then be deployed and managed.</p>
</div>
<div class="sect3">
<h4 id="log-into-gui-console-and-deploy-an-application"><a class="anchor" href="#log-into-gui-console-and-deploy-an-application"></a>Log into GUI console and deploy an application</h4>
<div class="paragraph">
<p>To log into the GUI console access the CNAME for the load balancer that was configured before. In this case, open a browser and access <a href="https://openshift-master.sysdeseng.com:8443/console" class="bare">https://openshift-master.sysdeseng.com:8443/console</a></p>
</div>
<div class="paragraph">
<p>To deploy an appliction, click on the <code>New Project</code> button. Provide a <code>Name</code> and click <code>Create</code>. Next, deploy the <code>jenkins-ephemeral</code> instant app by clicking that box. Accept the defaults and click <code>Create</code>. Instructions along with a URL will be provided for how to access the application on the next screen. Click <code>Continue to overview</code> and bring up the management page for the application. Click on the link provided and access the appliction to confirm functionality.</p>
</div>
</div>
<div class="sect3">
<h4 id="log-into-cli-and-deploy-an-application"><a class="anchor" href="#log-into-cli-and-deploy-an-application"></a>Log into CLI and deploy an application</h4>
<div class="paragraph">
<p>Perform the following steps from your local workstation.</p>
</div>
<div class="paragraph">
<p>Install the <code>oc client</code> which can be installed by visiting the public URL of the OpenShift deployment. For example <a href="https://openshift-master.sysdeseng.com:8443/console/command-line" class="bare">https://openshift-master.sysdeseng.com:8443/console/command-line</a> and click latest release. When directed to access.redhat.com login with the valid Red Hat credentials and download the client relevant to the current workstation. Follow the instructions here: <a href="https://access.redhat.com/documentation/en/openshift-enterprise/3.2/cli-reference/chapter-2-get-started-with-the-cli" class="bare">https://access.redhat.com/documentation/en/openshift-enterprise/3.2/cli-reference/chapter-2-get-started-with-the-cli</a>  <strong><strong></strong></strong> NEED PROPER LINK <strong><strong></strong></strong></p>
</div>
<div class="paragraph">
<p>A token is required to login using Google OAuth and OpenShift. To receive this token perform the following.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>oc login</strong>
Username: rcook@redhat.com
Login failed (401 Unauthorized)
You must obtain an API token by visiting https://openshift-master.sysdeseng.com:8443/oauth/token/request`</pre>
</div>
</div>
<div class="paragraph">
<p>After visiting the URL use the command listed under "Log in with this token"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>oc login --token=stucAk6fffPp-jsss-8dtIq7_f-8KffffN8DOwaq0aA8 --server=https://openshift-master.sysdeseng.com:8443</strong></pre>
</div>
</div>
<div class="paragraph">
<p>After access has been granted, create a new project and deploy an application.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>oc new-project test-app</strong>

$ <strong>oc new-app https://github.com/openshift/cakephp-ex.git --name=php</strong>
--&gt; Found image 2997627 (7 days old) in image stream "php" in project "openshift" under tag "5.6" for "php"

    Apache 2.4 with PHP 5.6
    -----------------------
    Platform for building and running PHP 5.6 applications

    Tags: builder, php, php56, rh-php56

    * The source repository appears to match: php
    * A source build using source code from https://github.com/openshift/cakephp-ex.git will be created
      * The resulting image will be pushed to image stream "php:latest"
    * This image will be deployed in deployment config "php"
    * Port 8080/tcp will be load balanced by service "php"
      * Other containers can access this service through the hostname "php"

--&gt; Creating resources with label app=php ...
    imagestream "php" created
    buildconfig "php" created
    deploymentconfig "php" created
    service "php" created
--&gt; Success
    Build scheduled, use 'oc logs -f bc/php' to track its progress.
    Run 'oc status' to view your app.


$ <strong>oc expose service php</strong>
route "php" exposed</pre>
</div>
</div>
<div class="paragraph">
<p>Get the status of the application.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ oc status
In project test-app on server https://openshift-master.sysdeseng.com:8443

http://test-app.apps.sysdeseng.com to pod port 8080-tcp (svc/php)
  dc/php deploys istag/php:latest &lt;- bc/php builds https://github.com/openshift/cakephp-ex.git with openshift/php:5.6
    deployment #1 deployed about a minute ago - 1 pod

1 warning identified, use 'oc status -v' to see details.</pre>
</div>
</div>
<div class="paragraph">
<p>Now access the application by accessing the URL provided by <code>oc status</code>.  The CakePHP application should be visible now.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="commands"><a class="anchor" href="#commands"></a>Commands</h3>
<div class="paragraph">
<p>If you try to run the following command, it should fail.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>oc get nodes --show-labels</strong>
Error from server: User "scollier@redhat.com" cannot list all nodes in the cluster</pre>
</div>
</div>
<div class="paragraph">
<p>The reason it is failing is because the permissions for that user are incorrect. Get the username and configure the permissions.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <strong>oc whoami</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Now that the username has been established, log back into a master node and enable the appropriate permissions for your user. Perform the following step from master00.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>oadm policy add-cluster-role-to-user cluster-admin scollier@redhat.com</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Now try to list the nodes again and show the labels.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>oc get nodes --show-labels</strong>
NAME                          STATUS                     AGE
ip-10-30-1-164.ec2.internal   Ready                      1d
ip-10-30-1-231.ec2.internal   Ready                      1d
ip-10-30-1-251.ec2.internal   Ready,SchedulingDisabled   1d
ip-10-30-2-142.ec2.internal   Ready                      1d
ip-10-30-2-157.ec2.internal   Ready,SchedulingDisabled   1d
ip-10-30-2-97.ec2.internal    Ready                      1d
ip-10-30-3-74.ec2.internal    Ready,SchedulingDisabled   1d</pre>
</div>
</div>
<div class="paragraph">
<p>Change to the default project and list router and registry:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>oc project default</strong>
# <strong>oc get all</strong>
# oc status
In project default on server https://scollier-openshift-master.scollier-aws.sysdeseng.com:8443

svc/docker-registry - 172.30.110.31:5000
  dc/docker-registry deploys docker.io/openshift3/ose-docker-registry:v3.2.1.7
    deployment #2 deployed 41 hours ago - 2 pods
    deployment #1 deployed 41 hours ago

svc/kubernetes - 172.30.0.1 ports 443, 53-&gt;8053, 53-&gt;8053

svc/router - 172.30.235.155 ports 80, 443, 1936
  dc/router deploys docker.io/openshift3/ose-haproxy-router:v3.2.1.7
    deployment #1 deployed 41 hours ago - 2 pods

View details with 'oc describe &lt;resource&gt;/&lt;name&gt;' or list everything with 'oc get all'.
-</pre>
</div>
</div>
<div class="paragraph">
<p>Exploring the docker registry. From your local workstation execute the following commands to see how the registry is configured.  Notice that the registry has two <code>endpoints</code> listed. Each of those endpoints represents a docker container.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ oc describe svc/docker-registry
Name:			docker-registry
Namespace:		default
Labels:			docker-registry=default
Selector:		docker-registry=default
Type:			ClusterIP
IP:			172.30.110.31
Port:			5000-tcp	5000/TCP
Endpoints:		172.16.4.2:5000,172.16.4.3:5000
Session Affinity:	ClientIP
No events.</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="testing-failure"><a class="anchor" href="#testing-failure"></a>Testing Failure</h3>
<div class="sect3">
<h4 id="generate-a-master-outage"><a class="anchor" href="#generate-a-master-outage"></a>Generate a master outage</h4>
<div class="paragraph">
<p>Log into the AWS console.  On the dashboard, click on the EC2 web service. Locate your running master00 instance, select it, right click and change the state to <code>stopped</code>.</p>
</div>
<div class="paragraph">
<p>Now ensure the console can still be accessed by opening a browser and accessing master-aws.sysdeseng.com.</p>
</div>
<div class="paragraph">
<p>This should be working.</p>
</div>
<div class="paragraph">
<p>Check etcd and one node reports as failed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>etcdctl -C https://ip-10-30-3-74.ec2.internal:2379,https://ip-10-30-1-251.ec2.internal:2379,https://ip-10-30-2-157.ec2.internal:2379 --ca-file /etc/etcd/ca.crt --cert-file=/etc/origin/master/master.etcd-client.crt --key-file=/etc/origin/master/master.etcd-client.key cluster-health</strong>
failed to check the health of member 82c895b7b0de4330 on https://10.30.1.251:2379: Get https://10.30.1.251:2379/health: dial tcp 10.30.1.251:2379: i/o timeout
member 82c895b7b0de4330 is unreachable: [https://10.30.1.251:2379] are all unreachable
member c8e7ac98bb93fe8c is healthy: got healthy result from https://10.30.3.74:2379
member f7bbfc4285f239ba is healthy: got healthy result from https://10.30.2.157:2379
cluster is healthy</pre>
</div>
</div>
<div class="paragraph">
<p>Restart master00.</p>
</div>
</div>
<div class="sect3">
<h4 id="generate-an-infrastruture-node-outate"><a class="anchor" href="#generate-an-infrastruture-node-outate"></a>Generate an Infrastruture node outate</h4>
<div class="paragraph">
<p>Perform the following commands from the master00 host</p>
</div>
<div class="paragraph">
<p>Before the outage.</p>
</div>
<div class="paragraph">
<p>Confirm the simple application deployed from before is still functional. If it is not, deploy a new version. Access the application to confirm connectivity.</p>
</div>
<div class="paragraph">
<p>Push to registry to make sure it works before outage.</p>
</div>
<div class="paragraph">
<p>get your token, this will likely fail.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>oc whoami -t</strong></pre>
</div>
</div>
<div class="paragraph">
<p>try to login, this will redirect.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>oc login</strong>
Login failed (401 Unauthorized)
You must obtain an API token by visiting https://scollier-openshift-master.scollier-aws.sysdeseng.com:8443/oauth/token/request</pre>
</div>
</div>
<div class="paragraph">
<p>get new login command.</p>
</div>
<div class="paragraph">
<p>try to login again.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>oc login --token=feAeAgL139uFFF_72bcJlboTv7gi_bo373kf1byaAT8 --server=https://scollier-openshift-master.scollier-aws.sysdeseng.com:8443</strong>
Logged into "https://scollier-openshift-master.scollier-aws.sysdeseng.com:8443" as "scollier@redhat.com" using the token provided.

You have access to the following projects and can switch between them with 'oc project &lt;projectname&gt;':

  * default (current)
  * management-infra
  * openshift
  * openshift-infra

Using project "default".</pre>
</div>
</div>
<div class="paragraph">
<p>get your token.
]</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>oc whoami -t</strong>
feAeAgL139uFFF_72bcJlboTv7gi_bo373kf1byaAT8</pre>
</div>
</div>
<div class="paragraph">
<p>pull a new docker image that you will use to test pushing.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>docker pull fedora/apache</strong>
# <strong>docker images</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Get the registry endpoint. Here the <code>svc/docker-registry</code> shows the endpoint.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>oc status</strong>
In project default on server https://scollier-openshift-master.scollier-aws.sysdeseng.com:8443

svc/docker-registry - 172.30.237.147:5000
  dc/docker-registry deploys docker.io/openshift3/ose-docker-registry:v3.2.1.9
    deployment #2 deployed 51 minutes ago - 2 pods
    deployment #1 deployed 53 minutes ago

svc/kubernetes - 172.30.0.1 ports 443, 53-&gt;8053, 53-&gt;8053

svc/router - 172.30.144.227 ports 80, 443, 1936
  dc/router deploys docker.io/openshift3/ose-haproxy-router:v3.2.1.9
    deployment #1 deployed 55 minutes ago - 2 pods

View details with 'oc describe &lt;resource&gt;/&lt;name&gt;' or list everything with 'oc get all'.</pre>
</div>
</div>
<div class="paragraph">
<p>tag the docker image</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>docker tag docker.io/fedora/apache 172.30.110.31:5000/openshift/scollierapache</strong></pre>
</div>
</div>
<div class="paragraph">
<p>check the images.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>docker images</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Now issue a docker login.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>docker login -u scollier@redhat.com -e scollier@redhat.com -p _7yJcnXfeRtAbJVEaQwPwXreEhlV56TkgDwZ6UEUDWw 172.30.110.31:5000</strong></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>oadm policy add-role-to-user admin scollier@redhat.com -n openshift</strong>
# <strong>oadm policy add-role-to-user system:registry scollier@redhat.com</strong>
# <strong>oadm policy add-role-to-user system:image-builder scollier@redhat.com</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Log into the AWS console.  On the dashboard, click on the EC2 web service. Locate your running infra00 instance, select it, right click and change the state to <code>stopped</code>.</p>
</div>
<div class="paragraph">
<p>after the outage.</p>
</div>
<div class="paragraph">
<p>Check the router and registry pod locations</p>
</div>
<div class="paragraph">
<p>make sure you can still route to applications</p>
</div>
<div class="paragraph">
<p>make sure you can still push to the registry.</p>
</div>
<div class="paragraph">
<p>Confirm registry S3 bucket.</p>
</div>
<div class="paragraph">
<p>go to infra node running the registry. Observe the <code>s3</code> stanza. The bucket name is there, now go to your AWS console, click on the <code>s3</code> Amazon Web Service and find the bucket. The bucket should show there and have some contents. Confirm the same bucket is mounted to the other registry.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># <strong>docker exec -it d40901ea1240 cat /etc/registryconfig/config.yml</strong>
version: 0.1
log:
  level: debug
http:
  addr: :5000
storage:
  cache:
    layerinfo: inmemory
  s3:
    accesskey: "AKIAIP6SRGJHSX3AS2IQ"
    secretkey: "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"
    region: us-east-1
    bucket: "1469667928-openshift-docker-registry"
    encrypt: true
    secure: true
    v4auth: true
    rootdirectory: /registry
auth:
  openshift:
    realm: openshift
middleware:
  repository:
    - name: openshift</pre>
</div>
</div>
<div class="paragraph">
<p>that shows the</p>
</div>
</div>
</div>
</div>
</div>
      </div>
    </div>
  </div>
  <script type="text/javascript">
    /*<![CDATA[*/
    $(document).ready(function() {
      $("[id^='topicGroup']").on('show.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicGroup']").on('hide.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicSubGroup']").on('show.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
      $("[id^='topicSubGroup']").on('hide.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
    });
    /*]]>*/
  </script>
    <footer class="footer-origin-docs">
  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <div id="footer_social">
          <a href="https://twitter.com/openshift" class="first">
            <span>
              <i class="fa fa-twitter-square fa-2x fa-inverse"></i>
            </span>
          </a>
          <a href="https://github.com/openshift/origin">
            <span>
              <i class="fa fa-github fa-2x fa-inverse"></i>
            </span>
          </a>
          <a href="https://plus.google.com/communities/114361859072744017486">
            <span>
              <i class="fa fa-google-plus-square fa-2x fa-inverse"></i>
            </span>
          </a>
          <a href="https://www.facebook.com/openshift">
            <span>
              <i class="fa fa-facebook-square fa-2x fa-inverse"></i>
            </span>
          </a>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-sm-4">
        <a id="footer_logo" href="https://www.redhat.com/">
          <img alt="Red Hat" src="https://assets.openshift.net/app/assets/redhat.svg">
        </a>
      </div>
      <div class="col-xs-12 col-sm-4 text-center">
        <a id="powered_by_openshift" title="Powered by OpenShift Online with the DIY Cartridge" href="https://hub.openshift.com/quickstarts/92-do-it-yourself-0-1">
          <img src="https://www.openshift.com/sites/default/files/images/powered-transparent-white.png" alt="Powered by OpenShift Online">
        </a>
      </div>
      <div class="col-xs-12 col-sm-4 text-right">
        <a id="built_with_asciibinder" title="Built with AsciiBinder docs management system" href="http://asciibinder.org/">
          <img src="../../scollier-test/_images/asciibinder_web_logo.svg" alt="AsciiBinder">
        </a>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">
        <div class="attribution">
          <button type="button" class="btn btn-link" data-html="true" data-container="body" data-toggle="popover" data-placement="top" data-content="
            '<a target='_blank' href='https://www.flickr.com/photos/eflon/3655695161/'>Spin</a>' by <a target='_blank' href='https://www.flickr.com/photos/eflon/'>eflon</a>,</br> used under <a target='_blank' href='https://creativecommons.org/licenses/by/2.0/'>CC BY 2.0</a> </br>Color tint added to original">
            Image attribution
          </button>
        </div>
      </div>
    </div>
    <script>
    $(function () {
      $('[data-toggle="popover"]').popover()
    })
    </script>
  </div>
</footer>
</body>
</html>